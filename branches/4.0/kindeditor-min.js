(function(R,r){function ja(a){return Object.prototype.toString.call(a)==="[object Array]"}function X(a,b){for(var c=0,d=b.length;c<d;c++)if(a===b[c])return c;return-1}function q(a,b){if(ja(a))for(var c=0,d=a.length;c<d;c++){if(b.call(a[c],c,a[c])===false)break}else for(c in a)if(a.hasOwnProperty(c))if(b.call(a[c],c,a[c])===false)break}function K(a){return a.replace(/^\s+|\s+$/g,"")}function va(a,b,c){c=c===r?",":c;return(c+b+c).indexOf(c+a+c)>=0}function G(a){return a&&/^\d+$/.test(a)?a+"px":a}function db(a){var b;
return a&&(b=/(\d+)/.exec(a))?parseInt(b[1],10):0}function ca(a){function b(c){c=parseInt(c,10).toString(16).toUpperCase();return c.length>1?c:"0"+c}return a.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/ig,function(c,d,e,f){return"#"+b(d)+b(e)+b(f)})}function I(a,b){b=b===r?",":b;var c={},d=a.split(b),e;q(d,function(f,g){if(e=/^(\d+)\.\.(\d+)$/.exec(g))for(var h=parseInt(e[1],10);h<=parseInt(e[2],10);h++)c[h.toString()]=true;else c[g]=true});return c}function eb(a,b,c){if(a.addEventListener)a.addEventListener(b,
c,false);else a.attachEvent&&a.attachEvent("on"+b,c)}function da(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else a.detachEvent&&a.detachEvent("on"+b,c)}function fb(a,b){if(b){var c={},d=a.ownerDocument||a.document||a;q(gb,function(f,g){c[g]=b[g]});if(!c.target)c.target=c.srcElement||d;if(c.target.nodeType===3)c.target=c.target.parentNode;if(!c.relatedTarget&&c.fromElement)c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement;if(c.pageX==null&&c.clientX!=null){var e=
d.documentElement;d=d.body;c.pageX=c.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||d&&d.clientLeft||0);c.pageY=c.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)}if(!c.which&&(c.charCode||c.charCode===0?c.charCode:c.keyCode))c.which=c.charCode||c.keyCode;if(!c.metaKey&&c.ctrlKey)c.metaKey=c.ctrlKey;if(!c.which&&c.button!==r)c.which=c.button&1?1:c.button&2?3:c.button&4?2:0;switch(c.which){case 186:c.which=59;break;case 187:case 107:case 43:c.which=61;
break;case 189:case 45:c.which=109;break;case 42:c.which=106;break;case 47:c.which=111;break;case 78:c.which=110;break}if(c.which>=96&&c.which<=105)c.which-=48;c.preventDefault=function(){b.preventDefault&&b.preventDefault();b.returnValue=false};c.stopPropagation=function(){b.stopPropagation&&b.stopPropagation();b.cancelBubble=true};c.stop=function(){this.preventDefault();this.stopPropagation()};return c}}function ka(a){var b=X(a,la);if(b<0){b=la.length;la.push(a);v[b]={}}return b}function S(a,b,
c){if(b.indexOf(",")>=0)q(b.split(","),function(){S(a,this,c)});else{var d=ka(a);if(v[d][b]!==r&&v[d][b].length>0){q(v[d][b],function(e,f){f===r&&v[d][b].splice(e,1)});da(a,b,v[d][b][0])}else v[d][b]=[];if(v[d][b].length===0)v[d][b][0]=function(e){q(v[d][b],function(f,g){f>0&&g&&g.call(a,fb(a,e))})};X(c,v[d][b])<0&&v[d][b].push(c);eb(a,b,v[d][b][0])}}function T(a,b,c){if(b&&b.indexOf(",")>=0)q(b.split(","),function(){T(a,this,c)});else{var d=ka(a);if(b===r){if(d in v){q(v[d],function(g,h){h.length>
0&&da(a,g,h[0])});v[d]={}}}else if(v[d][b]!==r&&v[d][b].length>0)if(c===r){da(a,b,v[d][b][0]);v[d][b]=[]}else{for(var e=0,f=v[d][b].length;e<f;e++)v[d][b][e]===c&&delete v[d][b][e];if(v[d][b].length==2&&v[d][b][1]===r){da(a,b,v[d][b][0]);v[d][b]=[]}}}}function ma(a,b){if(b.indexOf(",")>=0)q(b.split(","),function(){ma(a,this)});else{var c=ka(a);v[c][b]!==r&&v[c][b].length>0&&v[c][b][0]()}}function wa(a,b){function c(){if(!f){f=true;a(R.KindEditor)}T(b,"DOMContentLoaded");T(b,"readystatechange");T(e,
"load")}function d(){if(!f){try{b.documentElement.doScroll("left")}catch(g){e.setTimeout(d,0);return}c()}}b=b||document;var e=b.parentWindow||b.defaultView,f=false;if(b.addEventListener)S(b,"DOMContentLoaded",c);else if(b.attachEvent){S(b,"readystatechange",function(){b.readyState==="complete"&&c()});b.documentElement.doScroll&&e.frameElement===r&&d()}S(e,"load",c)}function xa(a){for(var b={},c=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g,d;d=c.exec(a);){var e=K(d[1].toLowerCase());d=K(ca(d[2]));b[e]=d}return b}
function ya(a){for(var b={},c=/\s+(?:([\w-:]+)|(?:([\w-:]+)=([^\s"'<>]+))|(?:([\w-:]+)="([^"]*)")|(?:([\w-:]+)='([^']*)'))(?=(?:\s|\/|>)+)/g,d;d=c.exec(a);)b[d[1]||d[2]||d[4]||d[6]]=(d[2]?d[3]:d[4]?d[5]:d[7])||"";return b}function za(a){var b="";q(xa(a),function(c,d){b+=c+":"+d+";"});return b}function ea(a){a=a.replace(/((?:[\r\n])*)<(\/)?([\w-:]+)(\s*(?:[\w-:]+)(?:=(?:"[^"]*"|'[^']*'|[^\s"'<>]*))?)*\s*(\/)?>((?:[\r\n])*)/g,function(b,c,d,e,f,g,h){b=c||"";d=d||"";e=e.toLowerCase();f=f||"";g=g?" "+
g:"";h=h||"";if(g===""&&Aa[e])g=" /";if(h)h="";if(e!=="script"&&e!=="style")b="";if(f!==""){f=f.replace(/\s*([\w-:]+)=([^\s"'<>]+|"[^"]*"|'[^']*')/g,function(i,p,l){i=p.toLowerCase();l=l||"";if(l==="")l='""';else{if(i==="style"){l=l.substr(1,l.length-2);l=za(l);if(l==="")return"";l='"'+l+'"'}/^['"]/.test(l)||(l='"'+l+'"')}return" "+i+"="+l+" "});f=K(f);if(f=f.replace(/\s+/g," "))f=" "+f;return b+"<"+d+e+f+g+">"+h}else return b+"<"+d+e+g+">"+h});return K(a)}function na(a,b){var c=a.ownerDocument||
a,d=b.ownerDocument||b;if(c!==d)return false;if(b===d)return false;if(a===c)return true;if(a.nodeType===3)return false;if(b.nodeType===3){b=b.parentNode;if(!b)return false;if(a===b)return true}if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);return a!==b&&a.contains(b)}function fa(a,b){b=b.toLowerCase();var c=null;if(H&&Y<8){var d=a.ownerDocument.createElement("div");d.appendChild(a.cloneNode(false));d=ya(d.innerHTML.toLowerCase());if(b in d)c=d[b]}else c=a.getAttribute(b,2);
if(b==="style"&&c!==null)c=za(c);return c}function Ba(a,b){function c(s){if(typeof s!="string")return s;return s.replace(/([^\w\-])/g,"\\$1")}function d(s,B){return s==="*"||s.toLowerCase()===c(B.toLowerCase())}function e(s,B,t){var o=[];(s=(t.ownerDocument||t).getElementById(s.replace(/\\/g,"")))&&d(B,s.nodeName)&&na(t,s)&&o.push(s);return o}function f(s,B,t){var o=t.ownerDocument||t,w=[],C,D,E;if(t.getElementsByClassName){o=t.getElementsByClassName(s.replace(/\\/g,""));C=0;for(D=o.length;C<D;C++){E=
o[C];d(B,E.nodeName)&&w.push(E)}}else if(o.querySelectorAll){o=o.querySelectorAll((t.nodeName!=="#document"?t.nodeName+" ":"")+B+"."+s);C=0;for(D=o.length;C<D;C++){E=o[C];na(t,E)&&w.push(E)}}else{o=t.getElementsByTagName(B);C=0;for(D=o.length;C<D;C++){E=o[C];if(E.nodeType==1)(B=E.className)&&(" "+B+" ").indexOf(" "+s+" ")>-1&&w.push(E)}}return w}function g(s,B,t,o){var w=[];t=o.getElementsByTagName(t);o=0;for(var C=t.length,D;o<C;o++){D=t[o];if(D.nodeType==1)if(B===null)fa(D,s)!==null&&w.push(D);
else B===c(fa(D,s))&&w.push(D)}return w}function h(s,B){var t=[],o,w=(o=/^((?:\\.|[^.#\s\[<>])+)/.exec(s))?o[1]:"*";if(o=/#((?:[\w\-]|\\.)+)$/.exec(s))t=e(o[1],w,B);else if(o=/\.((?:[\w\-]|\\.)+)$/.exec(s))t=f(o[1],w,B);else if(o=/\[((?:[\w\-]|\\.)+)\]/.exec(s))t=g(o[1].toLowerCase(),null,w,B);else if(o=/\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(s)){t=o[1].toLowerCase();o=o[2];if(t==="id")w=e(o,w,B);else{if(t==="class")w=f(o,w,B);else{if(t==="name"){t=[];o=B.getElementsByName(o.replace(/\\/g,
""));for(var C=0,D=o.length,E;C<D;C++){E=o[C];d(w,E.nodeName)&&E.getAttributeNode("name")&&t.push(E)}w=t}else w=g(t,o,w,B);w=w}w=w}t=w}else{w=B.getElementsByTagName(w);o=0;for(C=w.length;o<C;o++){D=w[o];D.nodeType==1&&t.push(D)}}return t}b=b||document;for(var i=[],p,l=/((?:\\.|[^\s>])+|[\s>])/g;p=l.exec(a);)p[1]!==" "&&i.push(p[1]);var k=[];if(i.length==1)return h(i[0],b);p=false;l=0;for(var m=i.length;l<m;l++){var x=i[l];if(x===">")p=true;else{if(l>0){var A=[],z=0,u=k.length;for(k=k[z];z<u;z++){var n=
h(x,k),F=0,L=n.length;for(n=n[F];F<L;F++)if(p)k===n.parentNode&&A.push(n);else A.push(n)}k=A}else k=h(x,b);if(k.length===0)return[]}}return k}function Ca(a,b){var c=Ba(a,b);return c.length>0?c[0]:null}function Z(a){return a.get?a.get():a}function Da(a){var b=a.split("-");a="";q(b,function(c,d){a+=c>0?d.charAt(0).toUpperCase()+d.substr(1):d});return a}function M(a){this.node=a;this.doc=this.node.ownerDocument||this.node;this.name=this.node.nodeName.toLowerCase();this.type=this.node.nodeType;this.win=
this.doc.parentWindow||this.doc.defaultView;this._data={};this._prevDisplay=""}function j(a,b){function c(e){if(!e)return null;return new M(e)}if(typeof a==="string"){if(/<.+>/.test(a)){var d=(b?b.ownerDocument||b:document).createElement("div");if(d.nodeType==1)d.innerHTML=""+a;return c(d.firstChild)}return c(Ca(a,b))}if(a&&a.get)return a;return c(a)}function Ea(){this.collapsed=this.startContainer===this.endContainer&&this.startOffset===this.endOffset}function Fa(){function a(i){for(var p=[];i;){p.push(i);
i=i.parentNode}return p}for(var b=a(this.startContainer),c=a(this.endContainer),d=0,e=b.length,f=c.length,g,h;++d;){g=b[e-d];h=c[f-d];if(!g||!h||g!==h)break}this.commonAncestorContainer=b[e-d+1]}function oa(a,b){function c(z,u,n){var F=z.nodeValue.length,L;if(a){L=z.cloneNode(true).splitText(u);L.splitText(n-u)}if(b){var s=z;if(u>0)s=z.splitText(u);n<F&&s.splitText(n-u);p.push(s)}return L}function d(z,u){var n;if(z.nodeType==3){n=c(z,g,i);a&&u.appendChild(n);return false}n=z.firstChild;for(var F,
L;n;){F=new N(e);F.selectNode(n);if(F.compareBoundaryPoints(O,l)>=0)return false;L=n.nextSibling;if(F.compareBoundaryPoints(U,l)>0)if(n.nodeType==1)if(F.compareBoundaryPoints(V,l)>=0&&F.compareBoundaryPoints($,l)<=0){a&&u.appendChild(n.cloneNode(true));b&&p.push(n)}else{var s;if(a){s=n.cloneNode(false);u.appendChild(s)}if(d(n,s)===false)return false}else if(n.nodeType==3){n=n==f&&n==h?c(n,g,i):n==f?c(n,g,n.nodeValue.length):n==h?c(n,0,i):c(n,0,n.nodeValue.length);a&&u.appendChild(n)}n=L}}var e=this.doc,
f=this.startContainer,g=this.startOffset,h=this.endContainer,i=this.endOffset,p=[],l=this;if(b){l=this.cloneRange();f.nodeType==3&&g===0&&this.setStart(f.parentNode,0);this.collapse(true)}var k=e.createDocumentFragment();d(l.commonAncestorContainer,k);for(var m=0,x=p.length;m<x;m++){var A=p[m];A.parentNode&&A.parentNode.removeChild(A)}return a?k:this}function Ga(a,b){var c=a.parentElement().ownerDocument,d=a.duplicate();d.collapse(b);var e=d.parentElement(),f=e.childNodes;if(f.length===0)return{node:e.parentNode,
offset:j(e).index()};c=c;var g=0,h=false,i=a.duplicate();i.moveToElementText(e);for(var p=0,l=f.length;p<l;p++){var k=f[p],m=i.compareEndPoints("StartToStart",d);if(m>0)h=true;if(m===0)return{node:k.parentNode,offset:p};if(k.nodeType==1){m=a.duplicate();m.moveToElementText(k);i.setEndPoint("StartToEnd",m);if(h)g+=m.text.length;else g=0}else if(k.nodeType==3){i.moveStart("character",k.nodeValue.length);g+=k.nodeValue.length}h||(c=k)}if(!h&&c.nodeType==1)return{node:e,offset:j(e.lastChild).index()+
1};i=a.duplicate();i.moveToElementText(e);i.setEndPoint("StartToEnd",d);g-=i.text.length;return{node:c,offset:g}}function Ha(a){var b=a.ownerDocument,c=0;for(a=a.previousSibling;a;){if(a.nodeType==1)if(j(a).isSingle())c+=1;else{var d=b.body.createTextRange();d.moveToElementText(a);c+=d.text.length}else if(a.nodeType==3)c+=a.nodeValue.length;a=a.previousSibling}return c}function Ia(a,b){var c=a.ownerDocument||a,d=c.body.createTextRange();if(c==a){d.collapse(true);return d}if(a.nodeType==1){var e=a.childNodes,
f,g=false,h;if(b===0){f=e[0];e=true}else{f=e[b-1];e=false}if(!f){h=c.createTextNode(" ");a.appendChild(h);f=h;g=true}if(f.nodeName.toLowerCase()==="head"){if(b===1)e=true;if(b===2)e=false;d.collapse(e);return d}if(f.nodeType==1){d.moveToElementText(f);d.collapse(e)}else{d.moveToElementText(a);g&&a.removeChild(h);c=Ha(f);c=e?c:c+f.nodeValue.length;d.moveStart("character",c)}}else if(a.nodeType==3){d.moveToElementText(a.parentNode);d.moveStart("character",b+Ha(a))}return d}function N(a){this.startContainer=
a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.collapsed=true;this.doc=this.commonAncestorContainer=a}function aa(a){if(!a.nodeName){if(a.get)a=a;else a:{var b;if(H){b=a.parentElement().ownerDocument;if(a.item){b=new N(b);b.selectNode(a.item(0));a=b;break a}var c=Ga(a,true);a=Ga(a,false);b=new N(b);b.setStart(c.node,c.offset);b.setEnd(a.node,a.offset)}else{c=a.startContainer;b=c.ownerDocument||c;b=new N(b);b.setStart(c,a.startOffset);b.setEnd(a.endContainer,a.endOffset)}a=b}return a}return new N(a)}
function Ja(a,b){var c="";try{c=a.queryCommandValue(b)}catch(d){}if(typeof c!=="string")c="";return c}function Ka(a){var b=a.parentWindow||a.defaultView;return b.getSelection?b.getSelection():a.selection}function La(a){var b=Ka(a),c;try{c=b.rangeCount>0?b.getRangeAt(0):b.createRange()}catch(d){}c=c||a;if(H&&(!c||c.parentElement().ownerDocument!==a))return null;return c}function Ma(a){var b={},c,d;q(a,function(e,f){c=e.split(",");for(var g=0,h=c.length;g<h;g++){d=c[g];b[d]=f}});return b}function W(a,
b,c){c=c||a.name;if(a.type!==1)return false;b=Ma(b);var d,e;if(b[c]){c=b[c].split(",");for(var f=0,g=c.length;f<g;f++){b=c[f];if(b==="*")return true;d=/^(\.?)([^=]+)(?:=([^=]+))?$/.exec(b);e=d[1]?"css":"attr";b=d[2];d=d[3]||"";if(d===""&&a[e](b)!=="")return true;if(d!==""&&a[e](b)===d)return true}}return false}function Na(a,b,c){c=c||a.name;if(a.type===1){b=Ma(b);if(b[c]){c=b[c].split(",");allFlag=false;for(var d=0,e=c.length;d<e;d++){b=c[d];if(b==="*"){allFlag=true;break}var f=/^(\.?)([^=]+)(?:=([^=]+))?$/.exec(b);
b=f[2];f[1]?a.css(b,""):a.removeAttr(b)}if(allFlag){if(a.first())for(c=a.first();c;){b=c.next();a.before(c);c=b}a.remove()}}}}function P(a){for(a=a;a.first();)a=a.first();return a}function Oa(a,b){a=a.clone(true);for(var c=P(a),d=a,e=false;b;){for(;d;){if(d.name===b.name){hb(d,b.attr(),b.css());e=true}d=d.first()}e||c.append(b.clone(false));e=false;b=b.first()}return a}function hb(a,b,c){q(b,function(d,e){d!=="style"&&a.attr(d,e)});q(c,function(d,e){a.css(d,e)})}function ba(a,b){var c=a.endContainer,
d=a.endOffset;for(d=c=j(c.nodeType==3||d===0?c:c.childNodes[d-1]);d&&(d=d.firstChild)&&d.childNodes.length==1;)if(W(d,b,"*")||W(d,b))return d;for(;c;){if(W(c,b,"*")||W(c,b))return c;c=c.parent()}return null}function pa(a){var b=a.doc;this.doc=b;this.win=b.parentWindow||b.defaultView;this.sel=Ka(b);this.range=a;this._preremove=this._preformat=null}function Pa(a){if(a.nodeName){var b=a.ownerDocument||a,c=La(b),d=new pa(aa(c||b));d.onchange(function(){if(c=La(b))d.range=aa(c)});d.oninput(function(){d._applyPreformat()});
d.oncursormove(function(){d._preformat=null;d._preremove=null});return d}return new pa(a)}function ga(a){return{name:a.name||"",x:a.x||0,y:a.y||0,z:a.z||0,width:G(a.width)||0,height:G(a.height)||0,doc:a.doc||document,create:function(b){if(this.div)return this;var c=j("<div></div>").css("display","block");this.width&&c.css("width",this.width);this.height&&c.css("height",this.height);this.z&&c.css({position:"absolute",left:this.x+"px",top:this.y+"px","z-index":this.z});b===r?this.doc.body.appendChild(c.get()):
j(b,this.doc).append(c);this.div=c;return this},remove:function(){if(!this.div)return this;this.div.remove();this.div=null;return this}}}function ib(a,b){var c=['<!doctype html><html><head><meta charset="utf-8" /><title>KindEditor</title>'];if(b){if(typeof b=="string"&&!/\{[\s\S]*\}/g.test(b))b=[b];ja(b)?q(b,function(d,e){e!==""&&c.push('<link href="'+e+'" rel="stylesheet" />')}):c.push("<style>"+b+"</style>")}c.push("</head><body "+(a?'class="'+a+'"':"")+"></body></html>");return c.join("")}function ha(a){var b=
this.doc.body;if(a===r)return j(b).html();else{j(b).html(a);return this}}function ia(a){var b=this.textarea;if(a===r)return b.val();else{b.val(a);return this}}function qa(a,b){return a.hasVal()?a.val(b):a.html(b)}function Qa(a){this.srcElement=j(a.srcElement);this.width=G(a.width)||0;this.height=G(a.height)||0;this.designMode=a.designMode===r?true:a.designMode;this.bodyClass=a.bodyClass;this.cssData=a.cssData}function Ra(a){return new Qa(a)}function Sa(a,b){a.bind("mouseover",function(c){this.addClass("ke-toolbar-icon-outline-on");
c.stop()});a.bind("mouseout",function(c){this.removeClass("ke-toolbar-icon-outline-on");c.stop()});a.bind("click",function(c){b.click.call(this,c);c.stop()})}function Ta(a){var b=ga(a),c=b.create,d=b.remove;b.items=[];b.itemNodes=[];b.disableMode=a.disableMode===r?false:a.disableMode;b.noDisableItems=a.noDisableItems===r?[]:a.noDisableItems;b.addItem=function(e){b.items.push(e)};b.create=function(e){if(b.div)return b;c.call(b,e);e=b.div.addClass("ke-toolbar").css("width",b.width);var f,g=j('<div class="ke-toolbar-inner"></div>');
e.bind("contextmenu,dbclick,mousedown,mousemove",function(h){h.stop()});q(b.items,function(h,i){if(i.name=="|")f=j('<span class="ke-inline-block ke-toolbar-separator"></span>');else if(i.name=="/")f=j("<br />");else{f=j('<a class="ke-inline-block ke-toolbar-icon-outline" href="#"></a>');f.append(j('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url ke-icon-'+i.name+'"></span>'));Sa(f,i)}f.data("item",i);b.itemNodes.push(f);g.append(f)});b.div=e.append(g);return b};b.remove=function(){if(!b.div)return b;
q(b.itemNodes,function(){this.remove()});b.itemNodes=[];d.call(b);return b};b.disable=function(e){var f=b.noDisableItems,g;if(e===r?!b.disableMode:e){q(b.itemNodes,function(){g=this.data("item");if(g.name!=="/"&&X(g.name,f)<0){this.addClass("ke-toolbar-icon-outline-disabled");this.opacity(0.5);g.name!=="|"&&this.unbind()}});b.disableMode=true}else{q(b.itemNodes,function(){g=this.data("item");if(g.name!=="/"&&X(g.name,f)<0){this.removeClass("ke-toolbar-icon-outline-disabled");this.opacity(1);g.name!==
"|"&&Sa(this,g)}});b.disableMode=false}return b};return b}function ra(a){var b=ga(a),c=b.create,d=b.remove,e=a.centerLineMode===r?true:a.centerLineMode;b.z=a.z||19811212;b.items=[];b.itemNodes=[];b.addItem=function(f){b.items.push(f)};b.create=function(){if(b.div)return b;c.call(b);var f=b.div;f.addClass("ke-menu");q(b.items,function(){if(this.title==="-")f.append(j('<div class="ke-menu-separator"></div>'));else{var g=j("<div></div>").addClass("ke-menu-item"),h=j("<div></div>").addClass("ke-menu-item-left"),
i=j("<div></div>").addClass("ke-menu-item-right"),p=G(this.height),l=this.iconClass;if(p){g.css("height",p);i.css("line-height",p)}var k;if(e){k=j("<div></div>").addClass("ke-menu-item-center");p&&k.css("height",p)}g.bind("mouseover",function(m){this.addClass("ke-menu-item-on");k&&k.addClass("ke-menu-item-center-on");m.stop()});g.bind("mouseout",function(m){this.removeClass("ke-menu-item-on");k&&k.removeClass("ke-menu-item-center-on");m.stop()});g.bind("click",this.click);g.append(h);k&&g.append(k);
g.append(i);if(this.checked)l="ke-icon-checked";h.html('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url '+l+'"></span>');i.html(this.title);f.append(g);b.itemNodes.push(g)}});b.remove=function(){q(b.itemNodes,function(){this.unbind()});b.itemNodes=[];d.call(b);return b};return b};return b}function Ua(a){var b=ga(a),c=a.colors||[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5",
"#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],d=(a.selectedColor||"").toLowerCase(),e=b.create,f=b.remove;b.z=a.z||19811212;b.cells=[];b.create=function(){function g(A,z,u){A=j(A).addClass(u);d===z.toLowerCase()&&A.addClass("ke-colorpicker-cell-selected");A.attr("title",z||sa("noColor"));A.bind("mouseover",function(){this.addClass("ke-colorpicker-cell-on")});A.bind("mouseout",function(){this.removeClass("ke-colorpicker-cell-on")});A.bind("click",function(n){a.click.call(this,
z);n.stop()});z?A.append(j('<div class="ke-colorpicker-cell-color"></div>').css("background-color",z)):A.html(sa("noColor"));b.cells.push(A)}if(b.div)return b;e.call(b);var h=b.div;h.addClass("ke-colorpicker");var i=b.doc.createElement("table");i.className="ke-colorpicker-table";i.cellPadding=0;i.cellSpacing=0;i.border=0;var p=i.insertRow(0),l=p.insertCell(0);l.colSpan=c[0].length;g(l,"","ke-colorpicker-cell-top");for(var k=0;k<c.length;k++){p=i.insertRow(k+1);for(var m=0;m<c[k].length;m++){var x=
c[k][m];l=p.insertCell(m);g(l,x,"ke-colorpicker-cell")}}h.append(i);return b};b.remove=function(){q(b.cells,function(){this.unbind()});b.cells=[];f.call(b);return b};return b}function Q(a,b){if(b===r)return Va[a];Va[a]=b}function sa(a,b){b=b===r?jb:b;return Wa[b][a]}function Xa(a){var b=this;q(a,function(d){b[d]=a[d]});q(kb,function(d,e){if(b[d]===r)b[d]=e});var c=j(b.srcElement);if(!b.width)b.width=c.width()||b.minWidth;if(!b.height)b.height=c.height()||b.minHeight;b.width=G(b.width);b.height=G(b.height);
b.srcElement=c}function Ya(a,b){b||(b={});if(!b.srcElement)b.srcElement=j("#"+a)||j("[name="+a+"]");var c=(new Xa(b)).create();return Za[a]=c}var J=navigator.userAgent.toLowerCase(),H=J.indexOf("msie")>-1&&J.indexOf("opera")==-1,ta=J.indexOf("gecko")>-1&&J.indexOf("khtml")==-1,lb=J.indexOf("applewebkit")>-1,$a=J.indexOf("opera")>-1,Y=(J=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(J))?J[1]:"0",ab=I("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),
mb=I("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),Aa=I("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");I("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");I("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var nb=I("input,button,textarea,select"),jb="zh_CN",y=
{IE:H,GECKO:ta,WEBKIT:lb,OPERA:$a,VERSION:Y,each:q,isArray:ja,inArray:X,inString:va,trim:K,addUnit:G,toHex:ca,toMap:I},gb="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),la=[],v={};y.bind=S;y.unbind=T;
y.fire=ma;y.ready=wa;y.formatHtml=ea;y.query=Ca;y.queryAll=Ba;M.prototype={bind:function(a,b){var c=this;S(c.node,a,function(d){b.call(c,d)});return c},unbind:function(a,b){var c=this;T(c.node,a,function(d){b.call(c,d)});return c},fire:function(a){ma(this.node,a);return this},hasAttr:function(a){return fa(this.node,a)},attr:function(a,b){var c=this,d=c.node;if(a===r)return ya(c.outer());if(typeof a==="object"){q(a,function(e,f){c.attr(e,f)});return c}if(b===r){b=fa(d,a);return b===null?"":b}if(H&&
Y<8&&a.toLowerCase()=="class")a="className";d.setAttribute(a,""+b);return c},removeAttr:function(a){if(H&&Y<8&&a.toLowerCase()=="class")a="className";this.attr(a,"");this.node.removeAttribute(a);return this},width:function(a){if(a===r)return this.node.offsetWidth;return this.css("width",G(a))},height:function(a){if(a===r)return this.node.offsetHeight;return this.css("height",G(a))},get:function(){return this.node},hasClass:function(a){return va(a,this.node.className," ")},addClass:function(a){var b=
this.node;if(!this.hasClass(a))b.className=K(b.className+" "+a);return this},removeClass:function(a){var b=this.node;if(this.hasClass(a))b.className=K(b.className.replace(new RegExp("\\s*"+a+"\\s*"),""));return this},html:function(a){var b=this.node;if(a===r)return ea(b.innerHTML);else{a=ea(a);if(b.nodeType==1)b.innerHTML=""+a;return this}},val:function(a){var b=this.node;if(a===r)return this.hasVal()?b.value:this.attr("value");else{if(this.hasVal())b.value=a;else this.attr("value",a);return this}},
css:function(a,b){var c=this,d=c.node;if(a===r)return xa(c.attr("style"));if(typeof a==="object"){q(a,function(e,f){c.css(e,f)});return c}if(b===r)return d.style[a]||c.computedCss(a)||"";d.style[Da(a)]=b;return c},computedCss:function(a){var b=this.node,c=Da(a),d="";if(this.win.getComputedStyle){d=this.win.getComputedStyle(b,null);d=d[c]||d.getPropertyValue(a)||b.style[c]}else if(b.currentStyle)d=b.currentStyle[c]||b.style[c];return d},opacity:function(a){var b=this.node;if(b.style.opacity===r){b.style.filter=
a==1?"":"alpha(opacity="+a*100+")";return this}b.style.opacity=a==1?"":a;return this},data:function(a,b){if(b===r)return this._data[a];this._data[a]=b;return this},pos:function(){var a=this.node,b=0,c=0;if(a.getBoundingClientRect){a=a.getBoundingClientRect();if(H||$a){c=document.documentElement;b=c.scrollLeft;c=c.scrollTop}else{b=R.scrollX;c=R.scrollY}c={x:b,y:c};b=a.left+c.x;c=a.top+c.y}else for(;a;){b+=a.offsetLeft;c+=a.offsetTop;a=a.offsetParent}return{x:b,y:c}},clone:function(a){return new M(this.node.cloneNode(a))},
append:function(a){this.node.appendChild(Z(a));return this},before:function(a){var b=this.node;b.parentNode.insertBefore(Z(a),b);return this},after:function(a){var b=this.node;b.nextSibling?b.parentNode.insertBefore(Z(a),b.nextSibling):this.append(a);return this},replaceWith:function(a){a=Z(a);var b=this.node;b.parentNode.replaceChild(a,b);this.unbind();this.node=a;return this},remove:function(){var a=this.node;this.unbind();a.parentNode&&a.parentNode.removeChild(a);this.node=null;return this},show:function(){this.computedCss("display")===
"none"&&this.css("display",this._prevDisplay);return this},hide:function(){if(this.computedCss("display")!=="none"){this._prevDisplay=this.css("display");this.css("display","none")}return this},outer:function(){var a=this.doc.createElement("div");a.appendChild(this.node.cloneNode(true));return ea(a.innerHTML)},hasVal:function(){return!!nb[this.name]},isSingle:function(){return!!Aa[this.name]},isInline:function(){return!!ab[this.name]},isBlock:function(){return!!mb[this.name]},contains:function(a){return na(this.node,
Z(a))},parent:function(){var a=this.node.parentNode;return a?new M(a):null},children:function(){for(var a=[],b=this.node.firstChild;b;){if(b.nodeType!=3||K(b.nodeValue)!=="")a.push(new M(b));b=b.nextSibling}return a},first:function(){var a=this.children();return a.length>0?a[0]:null},last:function(){var a=this.children();return a.length>0?a[a.length-1]:null},index:function(){for(var a=-1,b=this.node;b;){a++;b=b.previousSibling}return a},prev:function(){var a=this.node.previousSibling;return a?new M(a):
null},next:function(){var a=this.node.nextSibling;return a?new M(a):null},each:function(a,b){function c(d){for(d=b?d.firstChild:d.lastChild;d;){var e=b?d.nextSibling:d.previousSibling;if(a(new M(d))===false)return false;if(c(d)===false)return false;d=e}}b=b===r?true:b;c(this.node)},toString:function(){return this.type==3?this.node.nodeValue:this.outer()}};y.node=j;var V=0,U=1,$=2,O=3;N.prototype={setStart:function(a,b){var c=this.doc;this.startContainer=a;this.startOffset=b;if(this.endContainer===
c){this.endContainer=a;this.endOffset=b}Ea.call(this);Fa.call(this);return this},setEnd:function(a,b){var c=this.doc;this.endContainer=a;this.endOffset=b;if(this.startContainer===c){this.startContainer=a;this.startOffset=b}Ea.call(this);Fa.call(this);return this},setStartBefore:function(a){return this.setStart(a.parentNode||this.doc,j(a).index())},setStartAfter:function(a){return this.setStart(a.parentNode||this.doc,j(a).index()+1)},setEndBefore:function(a){return this.setEnd(a.parentNode||this.doc,
j(a).index())},setEndAfter:function(a){return this.setEnd(a.parentNode||this.doc,j(a).index()+1)},selectNode:function(a){return this.setStartBefore(a).setEndAfter(a)},selectNodeContents:function(a){var b=j(a);if(b.type==3||b.isSingle())return this.selectNode(a);b=b.children();if(b.length>0)return this.setStartBefore(b[0].get()).setEndAfter(b[b.length-1].get());return this.setStart(a,0).setEnd(a,0)},collapse:function(a){if(a)return this.setEnd(this.startContainer,this.startOffset);return this.setStart(this.endContainer,
this.endOffset)},compareBoundaryPoints:function(a,b){var c=this.get(),d=b.get();if(this.doc.createRange)return c.compareBoundaryPoints(a,d);else{var e={};e[V]="StartToStart";e[U]="EndToStart";e[$]="EndToEnd";e[O]="StartToEnd";c=c.compareEndPoints(e[a],d);if(c!==0)return c;var f,g,h,i;if(a===V||a===O){f=this.startContainer;h=this.startOffset}if(a===U||a===$){f=this.endContainer;h=this.endOffset}if(a===V||a===U){g=b.startContainer;i=b.startOffset}if(a===$||a===O){g=b.endContainer;i=b.endOffset}if(f===
g){f=h-i;return f>0?1:f<0?-1:0}for(c=g;c&&c.parentNode!==f;)c=c.parentNode;if(c)return j(c).index()>=h?-1:1;for(c=f;c&&c.parentNode!==g;)c=c.parentNode;if(c)return j(c).index()>=i?1:-1}},cloneRange:function(){return(new N(this.doc)).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var a=this.get();return(this.doc.createRange?a.toString():a.text).replace(/\r\n|\n|\r/g,"")},cloneContents:function(){return oa.call(this,true,false)},deleteContents:function(){return oa.call(this,
false,true)},extractContents:function(){return oa.call(this,true,true)},insertNode:function(a){var b=this.startContainer,c=this.startOffset,d=this.endContainer,e=this.endOffset,f,g,h,i=1;if(a.nodeName.toLowerCase()==="#document-fragment"){f=a.firstChild;g=a.lastChild;i=a.childNodes.length}if(b.nodeType==1)if(h=b.childNodes[c]){b.insertBefore(a,h);if(b===d)e+=i}else b.appendChild(a);else if(b.nodeType==3)if(c===0){b.parentNode.insertBefore(a,b);if(b.parentNode===d)e+=i}else if(c>=b.nodeValue.length)b.parentNode.appendChild(a);
else{h=b.splitText(c);b.parentNode.insertBefore(a,h);if(b===d){d=h;e-=c}}f?this.setStartBefore(f).setEndAfter(g):this.selectNode(a);return this.setEnd(d,e)},surroundContents:function(a){a.appendChild(this.extractContents());return this.insertNode(a).selectNode(a)},get:function(){var a=this.doc,b=this.startContainer,c=this.startOffset,d=this.endContainer,e=this.endOffset;if(a.createRange){a=a.createRange();try{a.setStart(b,c);a.setEnd(d,e)}catch(f){}}else{a=a.body.createTextRange();a.setEndPoint("StartToStart",
Ia(b,c));a.setEndPoint("EndToStart",Ia(d,e))}return a},html:function(){return j(this.cloneContents()).outer()}};y.range=aa;y.START_TO_START=V;y.START_TO_END=U;y.END_TO_END=$;y.END_TO_START=O;var bb=I("9,32,48..57,59,61,65..90,106,109..111,188,190..192,219..222"),cb=I("8,13,33..40,46"),ua={};q(bb,function(a,b){ua[a]=b});q(cb,function(a,b){ua[a]=b});pa.prototype={select:function(){var a=this.sel,b=this.range.cloneRange(),c=b.startContainer,d=c.ownerDocument||c,e=d.parentWindow||d.defaultView;if(H&&
c.nodeType==1&&b.collapsed){a=j("<span>&nbsp;</span>",d);b.insertNode(a.get());b=d.body.createTextRange();b.moveToElementText(a.get());b.collapse(false);b.select();a.remove();e.focus();return this}console.log(b);b=b.get();console.log(b);if(H)b.select();else{a.removeAllRanges();a.addRange(b)}e.focus();return this},wrap:function(a){function b(k,m,x){var A=k.nodeValue.length,z=k;if(!(x<=m)){if(m>0)z=k.splitText(m);x<A&&z.splitText(x-m);var u;x=j(z);m=g==k;for(k=i==k;(u=x.parent())&&u.isInline()&&u.children().length==
1;){m||(m=g==u.get());k||(k=i==u.get());x=u}u=x;x=f;x=x.clone(true);if(u.type==3){P(x).append(u.clone(false));u.before(x);u.remove()}else{A=u;for(var n;(n=u.first())&&n.children().length==1;)u=n;for(z=u.doc.createDocumentFragment();n=u.first();){n.next();z.appendChild(n.get())}x=Oa(A,x);z.firstChild&&P(x).append(z);A.before(x);A.remove()}n=x.get();m&&e.setStartBefore(n);k&&e.setEndAfter(n)}}function c(k){var m=k.firstChild;if(k.nodeType==3){b(k,h,p);return false}for(var x;m;){k=aa(d);k.selectNode(m);
if(k.compareBoundaryPoints(O,e)>=0)return false;x=m.nextSibling;if(k.compareBoundaryPoints(U,e)>0)if(m.nodeType==1){if(c(m)===false)return false}else if(m.nodeType==3)if(m==g&&m==i)b(m,h,p);else if(m==g)b(m,h,m.nodeValue.length);else m==i?b(m,0,p):b(m,0,m.nodeValue.length);m=x}}var d=this.doc,e=this.range,f,g=e.startContainer,h=e.startOffset,i=e.endContainer,p=e.endOffset;f=typeof a=="string"?j(a,d):a;if(e.collapsed){if(this._preformat)f=Oa(this._preformat.wrapper,f);this._preformat={wrapper:f,range:e.cloneRange()};
return this}if(!f.isInline()){for(var l=a=f.clone(true);l.first();)l=l.first();l.append(e.extractContents());e.insertNode(a.get()).selectNode(a.get());return this}c(e.commonAncestorContainer);return this},split:function(a,b){for(var c=this.range,d=c.doc,e=c.cloneRange().collapse(a),f=e.startContainer,g=e.startOffset,h=f.nodeType==3?f.parentNode:f,i=false;h&&h.parentNode;){var p=j(h);if(!p.isInline())break;if(!(W(p,b,"*")||W(p,b)))break;i=true;h=h.parentNode}if(i){d=d.createElement("span");c.cloneRange().collapse(!a).insertNode(d);
a?e.setStartBefore(h.firstChild).setEnd(f,g):e.setStart(f,g).setEndAfter(h.lastChild);f=e.extractContents();g=f.firstChild;i=f.lastChild;if(a){e.insertNode(f);c.setStartAfter(i).setEndBefore(d)}else{h.appendChild(f);c.setStartBefore(d).setEndBefore(g)}e=d.parentNode;e.removeChild(d);!a&&e===c.endContainer&&c.setEnd(c.endContainer,c.endOffset-1)}return this},remove:function(a){var b=this.doc,c=this.range;if(c.collapsed){this._preremove={map:a,range:c.cloneRange()};return this}this.split(true,a);this.split(false,
a);var d=[];j(c.commonAncestorContainer).each(function(p){var l=aa(b);l.selectNode(p.get());if(l.compareBoundaryPoints(O,c)>=0)return false;l.compareBoundaryPoints(V,c)>=0&&d.push(p)});var e=c.startContainer,f=c.startOffset,g=c.endContainer,h=c.endOffset;if(f>0){var i=j(e.childNodes[f-1]);if(i&&P(i).isInline()){i.remove();c.setStart(e,f-1);e==g&&c.setEnd(g,h-1)}if((i=j(e.childNodes[f]))&&P(i).isInline()){i.remove();e==g&&c.setEnd(g,h-1)}}(e=j(g.childNodes[c.endOffset]))&&P(e).isInline()&&e.remove();
q(d,function(){Na(this,a,"*");Na(this,a)});return this},_applyPreformat:function(){var a=this.range,b=this._preformat,c=this._preremove;if(b||c){b?a.setStart(b.range.startContainer,b.range.startOffset):a.setStart(c.range.startContainer,c.range.startOffset);b&&this.wrap(b.wrapper);c&&this.remove(c.map);b=a.startContainer;c=a.startOffset;b=P(j(b.nodeType==3?b:b.childNodes[c])).get();a.setEnd(b,b.nodeValue.length);a.collapse(false);this.select();this._preremove=this._preformat=null}},exec:function(a,
b){return this[a.toLowerCase()](b)},state:function(a){var b=this.doc,c=false;try{c=b.queryCommandState(a)}catch(d){}return c},val:function(a){var b=this.doc,c=this.range;a=a.toLowerCase();var d="";if(a==="fontfamily"||a==="fontname"){d=Ja(b,"fontname");d=d.replace(/['"]/g,"");return d.toLowerCase()}if(a==="formatblock"){d=Ja(b,a);if(d==="")if(a=ba(c,{"h1,h2,h3,h4,h5,h6,p,div,pre,address":"*"}))d=a.name;if(d==="Normal")d="p";return d.toLowerCase()}if(a==="fontsize"){if(a=ba(c,{"*":".font-size"}))d=
a.css("font-size");return d.toLowerCase()}if(a==="forecolor"){if(a=ba(c,{"*":".color"}))d=a.css("color");d=ca(d);if(d==="")d="default";return d.toLowerCase()}if(a==="hilitecolor"){if(a=ba(c,{"*":".background-color"}))d=a.css("background-color");d=ca(d);if(d==="")d="default";return d.toLowerCase()}return d},toggle:function(a,b){ba(this.range,b)?this.remove(b):this.wrap(a);return this.select()},bold:function(){return this.toggle("<strong></strong>",{span:".font-weight=bold",strong:"*",b:"*"})},italic:function(){return this.toggle("<em></em>",
{span:".font-style=italic",em:"*",i:"*"})},underline:function(){return this.toggle("<u></u>",{span:".text-decoration=underline",u:"*"})},strikethrough:function(){return this.toggle("<s></s>",{span:".text-decoration=line-through",s:"*"})},forecolor:function(a){return this.toggle('<span style="color:'+a+';"></span>',{span:".color="+a,font:"color"})},hilitecolor:function(a){return this.toggle('<span style="background-color:'+a+';"></span>',{span:".background-color="+a})},fontsize:function(a){return this.toggle('<span style="font-size:'+
a+';"></span>',{span:".font-size="+a,font:"size"})},fontname:function(a){return this.fontfamily(a)},fontfamily:function(a){return this.toggle('<span style="font-family:'+a+';"></span>',{span:".font-family="+a,font:"face"})},removeformat:function(){var a={"*":"class,style"};q(ab,function(b){a[b]="*"});this.remove(a);return this.select()},oninput:function(a){j(this.doc).bind("keyup",function(b){if(!b.ctrlKey&&!b.altKey&&bb[b.which]){a(b);b.stop()}});return this},oncursormove:function(a){var b=this.doc;
j(b).bind("keyup",function(c){if(!c.ctrlKey&&!c.altKey&&cb[c.which]){a(c);c.stop()}});j(b).bind("mouseup",a);return this},onchange:function(a){function b(e){setTimeout(function(){a(e)},1)}var c=this.doc,d=c.body;j(c).bind("keyup",function(e){if(!e.ctrlKey&&!e.altKey&&ua[e.which]){a(e);e.stop()}});j(c).bind("mouseup",a);c!==document&&j(document).bind("mousedown",a);j(d).bind("paste",b);j(d).bind("cut",b);return this}};y.cmd=Pa;y.widget=ga;Qa.prototype={html:function(a){this.val(a)},val:function(a){return this.designMode?
ha.call(this,a):ia.call(this,a)},create:function(a){if(this.div)return this;var b=j("<div></div>").addClass("ke-edit"),c=j('<iframe class="ke-edit-iframe" frameborder="0"></iframe>'),d=j('<textarea class="ke-edit-textarea"></textarea>'),e=this.srcElement,f={display:"block",width:this.width,height:this.height};b.css(f);c.css(f);d.css(f);this.designMode?d.hide():c.hide();b.append(c);b.append(d);j(a).append(b);e.hide();a=c.get();a=a.contentDocument||a.contentWindow.document;a.designMode="on";a.open();
a.write(ib(this.bodyClass,this.cssData));a.close();this.div=b;this.iframe=c;this.textarea=d;this.doc=a;this.designMode?ha.call(this,qa(e)):ia.call(this,qa(e));this.cmd=Pa(a);return this},remove:function(){var a=this.div,b=this.iframe,c=this.textarea,d=this.doc,e=this.srcElement;if(!a)return this;j(d).unbind();j(d.body).unbind();j(document).unbind();qa(e,this.val());e.show();b.remove();c.remove();a.remove();this.div=this.iframe=this.textarea=null;return this},design:function(a){var b=this.iframe,c=
this.textarea;if(!b)return this;if(a===r?!this.designMode:a){if(!this.designMode){c.hide();ha.call(this,ia.call(this));b.show();this.designMode=true}}else if(this.designMode){b.hide();ia.call(this,ha.call(this));c.show();this.designMode=false}this.focus();return this},focus:function(){var a=this.iframe;if(!a)return this;this.designMode?a.get().contentWindow.focus():this.textarea.get().focus();return this}};y.edit=Ra;y.toolbar=Ta;y.menu=ra;y.colorpicker=Ua;var Va={},Wa={},kb={designMode:true,fullscreenMode:false,
filterMode:false,shadowMode:true,scriptPath:function(){for(var a=document.getElementsByTagName("script"),b,c=0,d=a.length;c<d;c++){b=a[c].src||"";if(b.match(/kindeditor[\w\-\.]*\.js/))return b.substring(0,b.lastIndexOf("/")+1)}return""}(),urlType:"",newlineType:"p",resizeType:2,dialogAlignType:"page",bodyClass:"ke-content",cssData:"",minWidth:200,minHeight:100,minChangeSize:5,items:["source","|","fullscreen","undo","redo","print","cut","copy","paste","plainpaste","wordpaste","|","justifyleft","justifycenter",
"justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","|","selectall","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","removeformat","|","image","flash","media","advtable","hr","emoticons","link","unlink","|","about"],colors:[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5",
"#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],htmlTags:{font:["color","size","face",".background-color"],span:[".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align"],div:["align",".border",".margin",".padding",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".background",".font-style",".text-decoration",".vertical-align",".margin-left"],
table:["border","cellspacing","cellpadding","width","height","align","bordercolor",".padding",".margin",".border","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".background",".width",".height"],"td,th":["align","valign","width","height","colspan","rowspan","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".vertical-align",".background"],
a:["href","target","name"],embed:["src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess","/"],img:["src","width","height","border","alt","title",".width",".height","/"],hr:["/"],br:["/"],"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":["align",".text-align",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".text-indent",".margin-left"],"tbody,tr,strong,b,sub,sup,em,i,u,strike":[]}};
Xa.prototype={create:function(){var a=this,b=j("<div></div>").css("width",a.width);a.fullscreenMode?j(document.body).append(b):a.srcElement.before(b);var c=Ta({width:"100%",noDisableItems:"source,fullscreen".split(",")});q(a.items,function(e,f){c.addItem({name:f,click:function(){if(a.menu){var g=a.menu.name;a.menu.remove();a.menu=null;if(g===f)return}Q(f).call(this,a)}})});c.create(b);var d=Ra({srcElement:a.srcElement,width:"100%",height:a.height,designMode:a.designMode,bodyClass:a.bodyClass,cssData:a.cssData}).create(b);
q([d.doc,document],function(){j(this).bind("click",function(){if(a.menu){a.menu.remove();a.menu=null}})});a.container=b;a.toolbar=c;a.edit=d;return a},remove:function(){this.toolbar.remove();this.edit.remove();this.container.remove();this.container=this.toolbar=this.edit=null}};var Za={};if(H&&Y<7)try{document.execCommand("BackgroundImageCache",false,true)}catch(ob){}Q("source",function(a){a.toolbar.disable();a.edit.design()});Q("fontname",function(a){var b=this.pos();a.menu=ra({name:"fontname",width:150,
x:b.x,y:b.y+this.height(),centerLineMode:false});q(sa("plugins",void 0).fontname.fontName,function(c,d){a.menu.addItem({title:'<span style="font-family: '+c+';">'+d+"</span>",click:function(e){a.edit.cmd.fontname(d);a.menu.remove();a.menu=null;e.stop()}})});a.menu.create()});Q("fontsize",function(a){var b=this.pos();a.menu=ra({name:"fontsize",width:150,x:b.x,y:b.y+this.height(),centerLineMode:false});q(["9px","10px","12px","14px","16px","18px","24px","32px"],function(c,d){a.menu.addItem({title:'<span style="font-size:'+
d+';">'+d+"</span>",height:db(d)+12,click:function(e){a.edit.cmd.fontsize(d);a.menu.remove();a.menu=null;e.stop()}})});a.menu.create()});q("forecolor,hilitecolor".split(","),function(a,b){Q(b,function(c){var d=this.pos();c.menu=Ua({name:b,x:d.x,y:d.y+this.height(),selectedColor:"default",click:function(e){c.edit.cmd[b](e);c.menu.remove();c.menu=null}});c.menu.create()})});q("bold,italic,underline,strikethrough,removeformat".split(","),function(a,b){Q(b,function(c){c.edit.cmd[b]()})});y.create=Ya;
y.remove=function(a){Za[a].remove()};y.plugin=Q;ta=y;y=function(a,b){wa(function(){Ya(a,b)})};q(ta,function(a,b){y[a]=b});if(R.K===r)R.K=y;R.KindEditor=y;Wa.zh_CN={source:"HTML\u4ee3\u7801",undo:"\u540e\u9000(Ctrl+Z)",redo:"\u524d\u8fdb(Ctrl+Y)",cut:"\u526a\u5207(Ctrl+X)",copy:"\u590d\u5236(Ctrl+C)",paste:"\u7c98\u8d34(Ctrl+V)",plainpaste:"\u7c98\u8d34\u4e3a\u65e0\u683c\u5f0f\u6587\u672c",wordpaste:"\u4eceWord\u7c98\u8d34",selectall:"\u5168\u9009",justifyleft:"\u5de6\u5bf9\u9f50",justifycenter:"\u5c45\u4e2d",
justifyright:"\u53f3\u5bf9\u9f50",justifyfull:"\u4e24\u7aef\u5bf9\u9f50",insertorderedlist:"\u7f16\u53f7",insertunorderedlist:"\u9879\u76ee\u7b26\u53f7",indent:"\u589e\u52a0\u7f29\u8fdb",outdent:"\u51cf\u5c11\u7f29\u8fdb",subscript:"\u4e0b\u6807",superscript:"\u4e0a\u6807",title:"\u6807\u9898",fontname:"\u5b57\u4f53",fontsize:"\u6587\u5b57\u5927\u5c0f",textcolor:"\u6587\u5b57\u989c\u8272",bgcolor:"\u6587\u5b57\u80cc\u666f",bold:"\u7c97\u4f53(Ctrl+B)",italic:"\u659c\u4f53(Ctrl+I)",underline:"\u4e0b\u5212\u7ebf(Ctrl+U)",
strikethrough:"\u5220\u9664\u7ebf",removeformat:"\u5220\u9664\u683c\u5f0f",image:"\u56fe\u7247",flash:"\u63d2\u5165Flash",media:"\u63d2\u5165\u591a\u5a92\u4f53",table:"\u63d2\u5165\u8868\u683c",hr:"\u63d2\u5165\u6a2a\u7ebf",emoticons:"\u63d2\u5165\u8868\u60c5",link:"\u8d85\u7ea7\u94fe\u63a5",unlink:"\u53d6\u6d88\u8d85\u7ea7\u94fe\u63a5",fullscreen:"\u5168\u5c4f\u663e\u793a",about:"\u5173\u4e8e",print:"\u6253\u5370",fileManager:"\u6d4f\u89c8\u670d\u52a1\u5668",advtable:"\u8868\u683c",yes:"\u786e\u5b9a",
no:"\u53d6\u6d88",close:"\u5173\u95ed",editImage:"\u56fe\u7247\u5c5e\u6027",deleteImage:"\u5220\u9664\u56fe\u7247",editLink:"\u8d85\u7ea7\u94fe\u63a5\u5c5e\u6027",deleteLink:"\u53d6\u6d88\u8d85\u7ea7\u94fe\u63a5",tableprop:"\u8868\u683c\u5c5e\u6027",tableinsert:"\u63d2\u5165\u8868\u683c",tabledelete:"\u5220\u9664\u8868\u683c",tablecolinsertleft:"\u5de6\u4fa7\u63d2\u5165\u5217",tablecolinsertright:"\u53f3\u4fa7\u63d2\u5165\u5217",tablerowinsertabove:"\u4e0a\u65b9\u63d2\u5165\u884c",tablerowinsertbelow:"\u4e0b\u65b9\u63d2\u5165\u884c",
tablecoldelete:"\u5220\u9664\u5217",tablerowdelete:"\u5220\u9664\u884c",noColor:"\u65e0\u989c\u8272",invalidImg:"\u8bf7\u8f93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002\n\u53ea\u5141\u8bb8jpg,gif,bmp,png\u683c\u5f0f\u3002",invalidMedia:"\u8bf7\u8f93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002\n\u53ea\u5141\u8bb8swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb\u683c\u5f0f\u3002",invalidWidth:"\u5bbd\u5ea6\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidHeight:"\u9ad8\u5ea6\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",
invalidBorder:"\u8fb9\u6846\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidUrl:"\u8bf7\u8f93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002",invalidRows:"\u884c\u6570\u4e3a\u5fc5\u9009\u9879\uff0c\u53ea\u5141\u8bb8\u8f93\u5165\u5927\u4e8e0\u7684\u6570\u5b57\u3002",invalidCols:"\u5217\u6570\u4e3a\u5fc5\u9009\u9879\uff0c\u53ea\u5141\u8bb8\u8f93\u5165\u5927\u4e8e0\u7684\u6570\u5b57\u3002",invalidPadding:"\u8fb9\u8ddd\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidSpacing:"\u95f4\u8ddd\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",
invalidBorder:"\u8fb9\u6846\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidJson:"\u670d\u52a1\u5668\u53d1\u751f\u6545\u969c\u3002",cutError:"\u60a8\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e\u4e0d\u5141\u8bb8\u4f7f\u7528\u526a\u5207\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+X)\u6765\u5b8c\u6210\u3002",copyError:"\u60a8\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e\u4e0d\u5141\u8bb8\u4f7f\u7528\u590d\u5236\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+C)\u6765\u5b8c\u6210\u3002",
pasteError:"\u60a8\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e\u4e0d\u5141\u8bb8\u4f7f\u7528\u7c98\u8d34\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+V)\u6765\u5b8c\u6210\u3002",plugins:{about:{version:"4.0 (2010-07-15)",title:"HTML\u53ef\u89c6\u5316\u7f16\u8f91\u5668"},plainpaste:{comment:"\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+V)\u628a\u5185\u5bb9\u7c98\u8d34\u5230\u4e0b\u9762\u7684\u65b9\u6846\u91cc\u3002"},wordpaste:{comment:"\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+V)\u628a\u5185\u5bb9\u7c98\u8d34\u5230\u4e0b\u9762\u7684\u65b9\u6846\u91cc\u3002"},
link:{url:"URL\u5730\u5740",linkType:"\u6253\u5f00\u7c7b\u578b",newWindow:"\u65b0\u7a97\u53e3",selfWindow:"\u5f53\u524d\u7a97\u53e3"},flash:{url:"Flash\u5730\u5740",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6"},media:{url:"\u5a92\u4f53\u6587\u4ef6\u5730\u5740",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6",autostart:"\u81ea\u52a8\u64ad\u653e"},image:{remoteImage:"\u8fdc\u7a0b\u56fe\u7247",localImage:"\u672c\u5730\u4e0a\u4f20",remoteUrl:"\u56fe\u7247\u5730\u5740",localUrl:"\u56fe\u7247\u5730\u5740",size:"\u56fe\u7247\u5927\u5c0f",
width:"\u5bbd",height:"\u9ad8",resetSize:"\u91cd\u7f6e\u5927\u5c0f",align:"\u5bf9\u9f50\u65b9\u5f0f",defaultAlign:"\u9ed8\u8ba4\u65b9\u5f0f",leftAlign:"\u5de6\u5bf9\u9f50",rightAlign:"\u53f3\u5bf9\u9f50",imgTitle:"\u56fe\u7247\u8bf4\u660e",viewServer:"\u6d4f\u89c8..."},filemanager:{emptyFolder:"\u7a7a\u6587\u4ef6\u5939",moveup:"\u79fb\u5230\u4e0a\u4e00\u7ea7\u6587\u4ef6\u5939",viewType:"\u663e\u793a\u65b9\u5f0f\uff1a",viewImage:"\u7f29\u7565\u56fe",listImage:"\u8be6\u7ec6\u4fe1\u606f",orderType:"\u6392\u5e8f\u65b9\u5f0f\uff1a",
fileName:"\u540d\u79f0",fileSize:"\u5927\u5c0f",fileType:"\u7c7b\u578b"},advtable:{cells:"\u5355\u5143\u683c\u6570",rows:"\u884c\u6570",cols:"\u5217\u6570",size:"\u8868\u683c\u5927\u5c0f",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6",percent:"%",px:"px",space:"\u8fb9\u8ddd\u95f4\u8ddd",padding:"\u8fb9\u8ddd",spacing:"\u95f4\u8ddd",align:"\u5bf9\u9f50\u65b9\u5f0f",alignDefault:"\u9ed8\u8ba4",alignLeft:"\u5de6\u5bf9\u9f50",alignCenter:"\u5c45\u4e2d",alignRight:"\u53f3\u5bf9\u9f50",border:"\u8868\u683c\u8fb9\u6846",
borderWidth:"\u8fb9\u6846",borderColor:"\u989c\u8272",backgroundColor:"\u80cc\u666f\u989c\u8272"},formatblock:{formatblock:{h1:"\u6807\u9898 1",h2:"\u6807\u9898 2",h3:"\u6807\u9898 3",h4:"\u6807\u9898 4",p:"\u6b63 \u6587"}},fontname:{fontName:{SimSun:"\u5b8b\u4f53",NSimSun:"\u65b0\u5b8b\u4f53",FangSong_GB2312:"\u4eff\u5b8b_GB2312",KaiTi_GB2312:"\u6977\u4f53_GB2312",SimHei:"\u9ed1\u4f53","Microsoft YaHei":"\u5fae\u8f6f\u96c5\u9ed1",Arial:"Arial","Arial Black":"Arial Black","Times New Roman":"Times New Roman",
"Courier New":"Courier New",Tahoma:"Tahoma",Verdana:"Verdana"}}}}})(window);
