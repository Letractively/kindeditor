(function(N,r){function la(a){return Object.prototype.toString.call(a)==="[object Array]"}function Y(a,b){for(var c=0,d=b.length;c<d;c++)if(a===b[c])return c;return-1}function q(a,b){if(la(a))for(var c=0,d=a.length;c<d;c++){if(b.call(a[c],c,a[c])===false)break}else for(c in a)if(a.hasOwnProperty(c))if(b.call(a[c],c,a[c])===false)break}function L(a){return a.replace(/^\s+|\s+$/g,"")}function wa(a,b,c){c=c===r?",":c;return(c+b+c).indexOf(c+a+c)>=0}function H(a){return a&&/^\d+$/.test(a)?a+"px":a}function db(a){var b;
return a&&(b=/(\d+)/.exec(a))?parseInt(b[1],10):0}function da(a){function b(c){c=parseInt(c,10).toString(16).toUpperCase();return c.length>1?c:"0"+c}return a.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/ig,function(c,d,e,f){return"#"+b(d)+b(e)+b(f)})}function I(a,b){b=b===r?",":b;var c={},d=a.split(b),e;q(d,function(f,g){if(e=/^(\d+)\.\.(\d+)$/.exec(g))for(var h=parseInt(e[1],10);h<=parseInt(e[2],10);h++)c[h.toString()]=true;else c[g]=true});return c}function eb(a,b,c){if(a.addEventListener)a.addEventListener(b,
c,false);else a.attachEvent&&a.attachEvent("on"+b,c)}function ea(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else a.detachEvent&&a.detachEvent("on"+b,c)}function fb(a,b){if(b){var c={},d=a.ownerDocument||a.document||a;q(gb,function(f,g){c[g]=b[g]});if(!c.target)c.target=c.srcElement||d;if(c.target.nodeType===3)c.target=c.target.parentNode;if(!c.relatedTarget&&c.fromElement)c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement;if(c.pageX==null&&c.clientX!=null){var e=
d.documentElement;d=d.body;c.pageX=c.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||d&&d.clientLeft||0);c.pageY=c.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)}if(!c.which&&(c.charCode||c.charCode===0?c.charCode:c.keyCode))c.which=c.charCode||c.keyCode;if(!c.metaKey&&c.ctrlKey)c.metaKey=c.ctrlKey;if(!c.which&&c.button!==r)c.which=c.button&1?1:c.button&2?3:c.button&4?2:0;switch(c.which){case 186:c.which=59;break;case 187:case 107:case 43:c.which=61;
break;case 189:case 45:c.which=109;break;case 42:c.which=106;break;case 47:c.which=111;break;case 78:c.which=110;break}if(c.which>=96&&c.which<=105)c.which-=48;c.preventDefault=function(){b.preventDefault&&b.preventDefault();b.returnValue=false};c.stopPropagation=function(){b.stopPropagation&&b.stopPropagation();b.cancelBubble=true};c.stop=function(){this.preventDefault();this.stopPropagation()};return c}}function ma(a){var b=Y(a,O);if(b<0){q(O,function(c,d){if(!d){b=c;O[b]=a;return false}});if(b<
0){b=O.length;O.push(a)}}b in s||(s[b]={});return b}function U(a,b,c){if(b.indexOf(",")>=0)q(b.split(","),function(){U(a,this,c)});else{var d=ma(a);if(d in s&&s[d][b]!==r&&s[d][b].length>0){q(s[d][b],function(e,f){f===r&&s[d][b].splice(e,1)});ea(a,b,s[d][b][0])}else s[d][b]=[];if(s[d][b].length===0)s[d][b][0]=function(e){q(s[d][b],function(f,g){f>0&&g&&g.call(a,fb(a,e))})};Y(c,s[d][b])<0&&s[d][b].push(c);eb(a,b,s[d][b][0])}}function P(a,b,c){if(b&&b.indexOf(",")>=0)q(b.split(","),function(){P(a,this,
c)});else{var d=ma(a);if(b===r){if(d in s){q(s[d],function(g,h){h.length>0&&ea(a,g,h[0])});delete s[d];delete O[d]}}else if(s[d][b]!==r&&s[d][b].length>0)if(c===r){ea(a,b,s[d][b][0]);delete s[d][b]}else{for(var e=0,f=s[d][b].length;e<f;e++)s[d][b][e]===c&&delete s[d][b][e];if(s[d][b].length==2&&s[d][b][1]===r){ea(a,b,s[d][b][0]);delete s[d][b]}}}}function na(a,b){if(b.indexOf(",")>=0)q(b.split(","),function(){na(a,this)});else{var c=ma(a);c in s&&s[c][b]!==r&&s[c][b].length>0&&s[c][b][0]()}}function xa(a,
b){function c(){if(!f){f=true;a(N.KindEditor)}P(b,"DOMContentLoaded");P(b,"readystatechange");P(e,"load")}function d(){if(!f){try{b.documentElement.doScroll("left")}catch(g){e.setTimeout(d,0);return}c()}}b=b||document;var e=b.parentWindow||b.defaultView,f=false;if(b.addEventListener)U(b,"DOMContentLoaded",c);else if(b.attachEvent){U(b,"readystatechange",function(){b.readyState==="complete"&&c()});b.documentElement.doScroll&&e.frameElement===r&&d()}U(e,"load",c)}function ya(a){for(var b={},c=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g,
d;d=c.exec(a);){var e=L(d[1].toLowerCase());d=L(da(d[2]));b[e]=d}return b}function za(a){for(var b={},c=/\s+(?:([\w-:]+)|(?:([\w-:]+)=([^\s"'<>]+))|(?:([\w-:]+)="([^"]*)")|(?:([\w-:]+)='([^']*)'))(?=(?:\s|\/|>)+)/g,d;d=c.exec(a);)b[d[1]||d[2]||d[4]||d[6]]=(d[2]?d[3]:d[4]?d[5]:d[7])||"";return b}function Aa(a){var b="";q(ya(a),function(c,d){b+=c+":"+d+";"});return b}function fa(a){a=a.replace(/((?:[\r\n])*)<(\/)?([\w-:]+)(\s*(?:[\w-:]+)(?:=(?:"[^"]*"|'[^']*'|[^\s"'<>]*))?)*\s*(\/)?>((?:[\r\n])*)/g,
function(b,c,d,e,f,g,h){b=c||"";d=d||"";e=e.toLowerCase();f=f||"";g=g?" "+g:"";h=h||"";if(g===""&&Ba[e])g=" /";if(h)h="";if(e!=="script"&&e!=="style")b="";if(f!==""){f=f.replace(/\s*([\w-:]+)=([^\s"'<>]+|"[^"]*"|'[^']*')/g,function(i,p,m){i=p.toLowerCase();m=m||"";if(m==="")m='""';else{if(i==="style"){m=m.substr(1,m.length-2);m=Aa(m);if(m==="")return"";m='"'+m+'"'}/^['"]/.test(m)||(m='"'+m+'"')}return" "+i+"="+m+" "});f=L(f);if(f=f.replace(/\s+/g," "))f=" "+f;return b+"<"+d+e+f+g+">"+h}else return b+
"<"+d+e+g+">"+h});return L(a)}function oa(a,b){var c=a.ownerDocument||a,d=b.ownerDocument||b;if(c!==d)return false;if(b===d)return false;if(a===c)return true;if(a.nodeType===3)return false;if(b.nodeType===3){b=b.parentNode;if(!b)return false;if(a===b)return true}if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);return a!==b&&a.contains(b)}function ga(a,b){b=b.toLowerCase();var c=null;if(F&&Z<8){var d=a.ownerDocument.createElement("div");d.appendChild(a.cloneNode(false));d=za(d.innerHTML.toLowerCase());
if(b in d)c=d[b]}else c=a.getAttribute(b,2);if(b==="style"&&c!==null)c=Aa(c);return c}function Ca(a,b){function c(t){if(typeof t!="string")return t;return t.replace(/([^\w\-])/g,"\\$1")}function d(t,A){return t==="*"||t.toLowerCase()===c(A.toLowerCase())}function e(t,A,u){var o=[];(t=(u.ownerDocument||u).getElementById(t.replace(/\\/g,"")))&&d(A,t.nodeName)&&oa(u,t)&&o.push(t);return o}function f(t,A,u){var o=u.ownerDocument||u,w=[],B,C,D;if(u.getElementsByClassName){o=u.getElementsByClassName(t.replace(/\\/g,
""));B=0;for(C=o.length;B<C;B++){D=o[B];d(A,D.nodeName)&&w.push(D)}}else if(o.querySelectorAll){o=o.querySelectorAll((u.nodeName!=="#document"?u.nodeName+" ":"")+A+"."+t);B=0;for(C=o.length;B<C;B++){D=o[B];oa(u,D)&&w.push(D)}}else{o=u.getElementsByTagName(A);B=0;for(C=o.length;B<C;B++){D=o[B];if(D.nodeType==1)(A=D.className)&&(" "+A+" ").indexOf(" "+t+" ")>-1&&w.push(D)}}return w}function g(t,A,u,o){var w=[];u=o.getElementsByTagName(u);o=0;for(var B=u.length,C;o<B;o++){C=u[o];if(C.nodeType==1)if(A===
null)ga(C,t)!==null&&w.push(C);else A===c(ga(C,t))&&w.push(C)}return w}function h(t,A){var u=[],o,w=(o=/^((?:\\.|[^.#\s\[<>])+)/.exec(t))?o[1]:"*";if(o=/#((?:[\w\-]|\\.)+)$/.exec(t))u=e(o[1],w,A);else if(o=/\.((?:[\w\-]|\\.)+)$/.exec(t))u=f(o[1],w,A);else if(o=/\[((?:[\w\-]|\\.)+)\]/.exec(t))u=g(o[1].toLowerCase(),null,w,A);else if(o=/\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(t)){u=o[1].toLowerCase();o=o[2];if(u==="id")w=e(o,w,A);else{if(u==="class")w=f(o,w,A);else{if(u==="name"){u=
[];o=A.getElementsByName(o.replace(/\\/g,""));for(var B=0,C=o.length,D;B<C;B++){D=o[B];d(w,D.nodeName)&&D.getAttributeNode("name")&&u.push(D)}w=u}else w=g(u,o,w,A);w=w}w=w}u=w}else{w=A.getElementsByTagName(w);o=0;for(B=w.length;o<B;o++){C=w[o];C.nodeType==1&&u.push(C)}}return u}b=b||document;for(var i=[],p,m=/((?:\\.|[^\s>])+|[\s>])/g;p=m.exec(a);)p[1]!==" "&&i.push(p[1]);var l=[];if(i.length==1)return h(i[0],b);p=false;m=0;for(var k=i.length;m<k;m++){var v=i[m];if(v===">")p=true;else{if(m>0){var E=
[],z=0,x=l.length;for(l=l[z];z<x;z++){var n=h(v,l),G=0,M=n.length;for(n=n[G];G<M;G++)if(p)l===n.parentNode&&E.push(n);else E.push(n)}l=E}else l=h(v,b);if(l.length===0)return[]}}return l}function Da(a,b){var c=Ca(a,b);return c.length>0?c[0]:null}function $(a){return a.get?a.get():a}function Ea(a){var b=a.split("-");a="";q(b,function(c,d){a+=c>0?d.charAt(0).toUpperCase()+d.substr(1):d});return a}function J(a){this.node=a;this.doc=this.node.ownerDocument||this.node;this.name=this.node.nodeName.toLowerCase();
this.type=this.node.nodeType;this.win=this.doc.parentWindow||this.doc.defaultView;this._data={};this._prevDisplay=""}function j(a,b){function c(e){if(!e)return null;return new J(e)}if(typeof a==="string"){if(/<.+>/.test(a)){var d=(b?b.ownerDocument||b:document).createElement("div");if(d.nodeType==1)d.innerHTML=""+a;return c(d.firstChild)}return c(Da(a,b))}if(a&&a.get)return a;return c(a)}function Fa(){this.collapsed=this.startContainer===this.endContainer&&this.startOffset===this.endOffset}function Ga(){function a(i){for(var p=
[];i;){p.push(i);i=i.parentNode}return p}for(var b=a(this.startContainer),c=a(this.endContainer),d=0,e=b.length,f=c.length,g,h;++d;){g=b[e-d];h=c[f-d];if(!g||!h||g!==h)break}this.commonAncestorContainer=b[e-d+1]}function pa(a,b){function c(z,x,n){var G=z.nodeValue.length,M;if(a){M=z.cloneNode(true).splitText(x);M.splitText(n-x)}if(b){var t=z;if(x>0)t=z.splitText(x);n<G&&t.splitText(n-x);p.push(t)}return M}function d(z,x){var n;if(z.nodeType==3){n=c(z,g,i);a&&x.appendChild(n);return false}n=z.firstChild;
for(var G,M;n;){G=new Q(e);G.selectNode(n);if(G.compareBoundaryPoints(R,m)>=0)return false;M=n.nextSibling;if(G.compareBoundaryPoints(V,m)>0)if(n.nodeType==1)if(G.compareBoundaryPoints(W,m)>=0&&G.compareBoundaryPoints(aa,m)<=0){a&&x.appendChild(n.cloneNode(true));b&&p.push(n)}else{var t;if(a){t=n.cloneNode(false);x.appendChild(t)}if(d(n,t)===false)return false}else if(n.nodeType==3){n=n==f&&n==h?c(n,g,i):n==f?c(n,g,n.nodeValue.length):n==h?c(n,0,i):c(n,0,n.nodeValue.length);a&&x.appendChild(n)}n=
M}}var e=this.doc,f=this.startContainer,g=this.startOffset,h=this.endContainer,i=this.endOffset,p=[],m=this;if(b){m=this.cloneRange();f.nodeType==3&&g===0&&this.setStart(f.parentNode,0);this.collapse(true)}var l=e.createDocumentFragment();d(m.commonAncestorContainer,l);for(var k=0,v=p.length;k<v;k++){var E=p[k];E.parentNode&&E.parentNode.removeChild(E)}return a?l:this}function Ha(a,b){var c=a.parentElement().ownerDocument,d=a.duplicate();d.collapse(b);var e=d.parentElement(),f=e.childNodes;if(f.length===
0)return{node:e.parentNode,offset:j(e).index()};c=c;var g=0,h=false,i=a.duplicate();i.moveToElementText(e);for(var p=0,m=f.length;p<m;p++){var l=f[p],k=i.compareEndPoints("StartToStart",d);if(k>0)h=true;if(k===0)return{node:l.parentNode,offset:p};if(l.nodeType==1){k=a.duplicate();k.moveToElementText(l);i.setEndPoint("StartToEnd",k);if(h)g+=k.text.length;else g=0}else if(l.nodeType==3){i.moveStart("character",l.nodeValue.length);g+=l.nodeValue.length}h||(c=l)}if(!h&&c.nodeType==1)return{node:e,offset:j(e.lastChild).index()+
1};i=a.duplicate();i.moveToElementText(e);i.setEndPoint("StartToEnd",d);g-=i.text.length;return{node:c,offset:g}}function Ia(a){var b=a.ownerDocument,c=0;for(a=a.previousSibling;a;){if(a.nodeType==1)if(j(a).isSingle())c+=1;else{var d=b.body.createTextRange();d.moveToElementText(a);c+=d.text.length}else if(a.nodeType==3)c+=a.nodeValue.length;a=a.previousSibling}return c}function Ja(a,b){var c=a.ownerDocument||a,d=c.body.createTextRange();if(c==a){d.collapse(true);return d}if(a.nodeType==1){var e=a.childNodes,
f,g=false,h;if(b===0){f=e[0];e=true}else{f=e[b-1];e=false}if(!f){h=c.createTextNode(" ");a.appendChild(h);f=h;g=true}if(f.nodeName.toLowerCase()==="head"){if(b===1)e=true;if(b===2)e=false;d.collapse(e);return d}if(f.nodeType==1){d.moveToElementText(f);d.collapse(e)}else{d.moveToElementText(a);g&&a.removeChild(h);c=Ia(f);c=e?c:c+f.nodeValue.length;d.moveStart("character",c)}}else if(a.nodeType==3){d.moveToElementText(a.parentNode);d.moveStart("character",b+Ia(a))}return d}function Q(a){this.startContainer=
a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.collapsed=true;this.doc=this.commonAncestorContainer=a}function ba(a){if(!a.nodeName){if(a.get)a=a;else a:{var b;if(F){b=a.parentElement().ownerDocument;if(a.item){b=new Q(b);b.selectNode(a.item(0));a=b;break a}var c=Ha(a,true);a=Ha(a,false);b=new Q(b);b.setStart(c.node,c.offset);b.setEnd(a.node,a.offset)}else{c=a.startContainer;b=c.ownerDocument||c;b=new Q(b);b.setStart(c,a.startOffset);b.setEnd(a.endContainer,a.endOffset)}a=b}return a}return new Q(a)}
function Ka(a,b){var c="";try{c=a.queryCommandValue(b)}catch(d){}if(typeof c!=="string")c="";return c}function La(a){var b=a.parentWindow||a.defaultView;return b.getSelection?b.getSelection():a.selection}function Ma(a){var b=La(a),c;try{c=b.rangeCount>0?b.getRangeAt(0):b.createRange()}catch(d){}c=c||a;if(F&&(!c||c.parentElement().ownerDocument!==a))return null;return c}function Na(a){var b={},c,d;q(a,function(e,f){c=e.split(",");for(var g=0,h=c.length;g<h;g++){d=c[g];b[d]=f}});return b}function X(a,
b,c){c=c||a.name;if(a.type!==1)return false;b=Na(b);var d,e;if(b[c]){c=b[c].split(",");for(var f=0,g=c.length;f<g;f++){b=c[f];if(b==="*")return true;d=/^(\.?)([^=]+)(?:=([^=]+))?$/.exec(b);e=d[1]?"css":"attr";b=d[2];d=d[3]||"";if(d===""&&a[e](b)!=="")return true;if(d!==""&&a[e](b)===d)return true}}return false}function Oa(a,b,c){c=c||a.name;if(a.type===1){b=Na(b);if(b[c]){c=b[c].split(",");allFlag=false;for(var d=0,e=c.length;d<e;d++){b=c[d];if(b==="*"){allFlag=true;break}var f=/^(\.?)([^=]+)(?:=([^=]+))?$/.exec(b);
b=f[2];f[1]?a.css(b,""):a.removeAttr(b)}if(allFlag){if(a.first())for(c=a.first();c;){b=c.next();a.before(c);c=b}a.remove()}}}}function S(a){for(a=a;a.first();)a=a.first();return a}function Pa(a,b){a=a.clone(true);for(var c=S(a),d=a,e=false;b;){for(;d;){if(d.name===b.name){hb(d,b.attr(),b.css());e=true}d=d.first()}e||c.append(b.clone(false));e=false;b=b.first()}return a}function hb(a,b,c){q(b,function(d,e){d!=="style"&&a.attr(d,e)});q(c,function(d,e){a.css(d,e)})}function ca(a,b){var c=a.endContainer,
d=a.endOffset;for(d=c=j(c.nodeType==3||d===0?c:c.childNodes[d-1]);d&&(d=d.firstChild)&&d.childNodes.length==1;)if(X(d,b,"*")||X(d,b))return d;for(;c;){if(X(c,b,"*")||X(c,b))return c;c=c.parent()}return null}function qa(a){var b=a.doc;this.doc=b;this.win=b.parentWindow||b.defaultView;this.sel=La(b);this.range=a;this._preremove=this._preformat=null}function Qa(a){if(a.nodeName){var b=a.ownerDocument||a,c=Ma(b),d=new qa(ba(c||b));d.onchange(function(){if(c=Ma(b))d.range=ba(c)});d.oninput(function(){d._applyPreformat()});
d.oncursormove(function(){d._preformat=null;d._preremove=null});return d}return new qa(a)}function ha(a){var b=a.name||"",c=a.x||0,d=a.y||0,e=a.z||0,f=H(a.width)||0,g=H(a.height)||0,h=a.doc||document;a=a.parent||h.body;var i=j("<div></div>").css("display","block");f&&i.css("width",f);g&&i.css("height",g);e&&i.css({position:"absolute",left:c+"px",top:d+"px","z-index":e});j(a).append(i);return{name:b,x:c,y:d,z:e,width:f,height:g,doc:h,div:function(){return i},remove:function(){i.remove();return this}}}
function ib(a,b){var c=['<!doctype html><html><head><meta charset="utf-8" /><title>KindEditor</title>'];if(b){if(typeof b=="string"&&!/\{[\s\S]*\}/g.test(b))b=[b];la(b)?q(b,function(d,e){e!==""&&c.push('<link href="'+e+'" rel="stylesheet" />')}):c.push("<style>"+b+"</style>")}c.push("</head><body "+(a?'class="'+a+'"':"")+"></body></html>");return c.join("")}function ia(a){var b=this.doc.body;if(a===r)return j(b).html();else{j(b).html(a);return this}}function ja(a){var b=this.textarea;if(a===r)return b.val();
else{b.val(a);return this}}function ra(a,b){return a.hasVal()?a.val(b):a.html(b)}function Ra(a){this.srcElement=j(a.srcElement);this.width=H(a.width)||0;this.height=H(a.height)||0;this.designMode=a.designMode===r?true:a.designMode;this.bodyClass=a.bodyClass;this.cssData=a.cssData}function Sa(a){return new Ra(a)}function Ta(a,b){a.mouseover(function(c){this.addClass("ke-toolbar-icon-outline-on");c.stop()});a.mouseout(function(c){this.removeClass("ke-toolbar-icon-outline-on");c.stop()});a.click(function(c){b.click.call(this,
c);c.stop()})}function Ua(a){var b=ha(a),c=b.remove,d=a.disableMode===r?false:a.disableMode,e=a.noDisableItems===r?[]:a.noDisableItems,f=[],g=j('<div class="ke-toolbar-inner"></div>');b.div().addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove",function(h){h.stop()}).append(g);b.addItem=function(h){var i;if(h.name=="|")i=j('<span class="ke-inline-block ke-toolbar-separator"></span>');else if(h.name=="/")i=j("<br />");else{i=j('<a class="ke-inline-block ke-toolbar-icon-outline" href="#"></a>');
i.append(j('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url ke-icon-'+h.name+'"></span>'));Ta(i,h)}i.data("item",h);f.push(i);g.append(i)};b.remove=function(){q(f,function(){this.remove()});g.remove();c.call(b)};b.disable=function(h){var i;if(h===r?!d:h){q(f,function(){i=this.data("item");if(i.name!=="/"&&Y(i.name,e)<0){this.addClass("ke-toolbar-icon-outline-disabled");this.opacity(0.5);i.name!=="|"&&this.unbind()}});d=true}else{q(f,function(){i=this.data("item");if(i.name!=="/"&&
Y(i.name,e)<0){this.removeClass("ke-toolbar-icon-outline-disabled");this.opacity(1);i.name!=="|"&&Ta(this,i)}});d=false}};return b}function sa(a){a.z=a.z||19811212;var b=ha(a),c=b.remove,d=a.centerLineMode===r?true:a.centerLineMode,e=[];b.div().addClass("ke-menu");b.addItem=function(f){if(f.title==="-")b.div().append(j('<div class="ke-menu-separator"></div>'));else{var g=j("<div></div>").addClass("ke-menu-item"),h=j("<div></div>").addClass("ke-menu-item-left"),i=j("<div></div>").addClass("ke-menu-item-right"),
p=H(f.height),m=f.iconClass;b.div().append(g);if(p){g.css("height",p);i.css("line-height",p)}var l;if(d){l=j("<div></div>").addClass("ke-menu-item-center");p&&l.css("height",p)}g.mouseover(function(k){this.addClass("ke-menu-item-on");l&&l.addClass("ke-menu-item-center-on");k.stop()});g.mouseout(function(k){this.removeClass("ke-menu-item-on");l&&l.removeClass("ke-menu-item-center-on");k.stop()});g.click(f.click);g.append(h);l&&g.append(l);g.append(i);if(f.checked)m="ke-icon-checked";h.html('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url '+
m+'"></span>');i.html(f.title);e.push(g)}};b.remove=function(){q(e,function(){this.remove()});c.call(b)};return b}function Va(a){function b(k,v,E){k=j(k).addClass(E);e===v.toLowerCase()&&k.addClass("ke-colorpicker-cell-selected");k.attr("title",v||ta("noColor"));k.mouseover(function(){this.addClass("ke-colorpicker-cell-on")});k.mouseout(function(){this.removeClass("ke-colorpicker-cell-on")});k.click(function(z){a.click.call(this,v);z.stop()});v?k.append(j('<div class="ke-colorpicker-cell-color"></div>').css("background-color",
v)):k.html(ta("noColor"));g.push(k)}a.z=a.z||19811212;var c=ha(a),d=a.colors||[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],e=(a.selectedColor||"").toLowerCase(),f=c.remove,g=[];c.div().addClass("ke-colorpicker");var h=c.doc.createElement("table");c.div().append(h);h.className="ke-colorpicker-table";
h.cellPadding=0;h.cellSpacing=0;h.border=0;var i=h.insertRow(0),p=i.insertCell(0);p.colSpan=d[0].length;b(p,"","ke-colorpicker-cell-top");for(var m=0;m<d.length;m++){i=h.insertRow(m+1);for(var l=0;l<d[m].length;l++){p=i.insertCell(l);b(p,d[m][l],"ke-colorpicker-cell")}}c.remove=function(){q(g,function(){this.remove()});f.call(c)};return c}function T(a,b){if(b===r)return Wa[a];Wa[a]=b}function ta(a,b){b=b===r?jb:b;return Xa[b][a]}function Ya(a){var b=this;q(a,function(d){b[d]=a[d]});q(kb,function(d,
e){if(b[d]===r)b[d]=e});var c=j(b.srcElement);if(!b.width)b.width=c.width()||b.minWidth;if(!b.height)b.height=c.height()||b.minHeight;b.width=H(b.width);b.height=H(b.height);b.srcElement=c}function Za(a,b){b||(b={});if(!b.srcElement)b.srcElement=j("#"+a)||j("[name="+a+"]");return ka[a]=(new Ya(b)).create()}var K=navigator.userAgent.toLowerCase(),F=K.indexOf("msie")>-1&&K.indexOf("opera")==-1,ua=K.indexOf("gecko")>-1&&K.indexOf("khtml")==-1,lb=K.indexOf("applewebkit")>-1,$a=K.indexOf("opera")>-1,Z=
(K=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(K))?K[1]:"0",ab=I("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),mb=I("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),Ba=I("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");
I("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");I("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var nb=I("input,button,textarea,select"),jb="zh_CN",y={IE:F,GECKO:ua,WEBKIT:lb,OPERA:$a,VERSION:Z,each:q,isArray:la,inArray:Y,inString:wa,trim:L,addUnit:H,toHex:da,toMap:I},gb="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),
O=[],s={};F&&N.attachEvent("onunload",function(){q(O,function(a,b){b&&P(b)})});y.bind=U;y.unbind=P;y.fire=na;y.ready=xa;y.formatHtml=fa;y.query=Da;y.queryAll=Ca;J.prototype={bind:function(a,b){var c=this;U(c.node,a,function(d){b.call(c,d)});return c},unbind:function(a,b){var c=this;P(c.node,a,function(d){b.call(c,d)});return c},fire:function(a){na(this.node,a);return this},hasAttr:function(a){return ga(this.node,a)},attr:function(a,b){var c=this,d=c.node;if(a===r)return za(c.outer());if(typeof a===
"object"){q(a,function(e,f){c.attr(e,f)});return c}if(b===r){b=ga(d,a);return b===null?"":b}if(F&&Z<8&&a.toLowerCase()=="class")a="className";d.setAttribute(a,""+b);return c},removeAttr:function(a){if(F&&Z<8&&a.toLowerCase()=="class")a="className";this.attr(a,"");this.node.removeAttribute(a);return this},width:function(a){if(a===r)return this.node.offsetWidth;return this.css("width",H(a))},height:function(a){if(a===r)return this.node.offsetHeight;return this.css("height",H(a))},get:function(){return this.node},
hasClass:function(a){return wa(a,this.node.className," ")},addClass:function(a){var b=this.node;if(!this.hasClass(a))b.className=L(b.className+" "+a);return this},removeClass:function(a){var b=this.node;if(this.hasClass(a))b.className=L(b.className.replace(new RegExp("\\s*"+a+"\\s*"),""));return this},html:function(a){var b=this.node;if(a===r)return fa(b.innerHTML);else{a=fa(a);if(b.nodeType==1)b.innerHTML=""+a;return this}},val:function(a){var b=this.node;if(a===r)return this.hasVal()?b.value:this.attr("value");
else{if(this.hasVal())b.value=a;else this.attr("value",a);return this}},css:function(a,b){var c=this,d=c.node;if(a===r)return ya(c.attr("style"));if(typeof a==="object"){q(a,function(e,f){c.css(e,f)});return c}if(b===r)return d.style[a]||c.computedCss(a)||"";d.style[Ea(a)]=b;return c},computedCss:function(a){var b=this.node,c=Ea(a),d="";if(this.win.getComputedStyle){d=this.win.getComputedStyle(b,null);d=d[c]||d.getPropertyValue(a)||b.style[c]}else if(b.currentStyle)d=b.currentStyle[c]||b.style[c];
return d},opacity:function(a){var b=this.node;if(b.style.opacity===r){b.style.filter=a==1?"":"alpha(opacity="+a*100+")";return this}b.style.opacity=a==1?"":a;return this},data:function(a,b){if(b===r)return this._data[a];this._data[a]=b;return this},pos:function(){var a=this.node,b=0,c=0;if(a.getBoundingClientRect){a=a.getBoundingClientRect();if(F||$a){c=document.documentElement;b=c.scrollLeft;c=c.scrollTop}else{b=N.scrollX;c=N.scrollY}c={x:b,y:c};b=a.left+c.x;c=a.top+c.y}else for(;a;){b+=a.offsetLeft;
c+=a.offsetTop;a=a.offsetParent}return{x:b,y:c}},clone:function(a){return new J(this.node.cloneNode(a))},append:function(a){this.node.appendChild($(a));return this},before:function(a){var b=this.node;b.parentNode.insertBefore($(a),b);return this},after:function(a){var b=this.node;b.nextSibling?b.parentNode.insertBefore($(a),b.nextSibling):this.append(a);return this},replaceWith:function(a){a=$(a);var b=this.node;b.parentNode.replaceChild(a,b);this.unbind();this.node=a;return this},remove:function(){var a=
this.node;this.unbind();a.parentNode&&a.parentNode.removeChild(a);this.node=null;return this},show:function(){this.computedCss("display")==="none"&&this.css("display",this._prevDisplay);return this},hide:function(){if(this.computedCss("display")!=="none"){this._prevDisplay=this.css("display");this.css("display","none")}return this},outer:function(){var a=this.doc.createElement("div");a.appendChild(this.node.cloneNode(true));return fa(a.innerHTML)},hasVal:function(){return!!nb[this.name]},isSingle:function(){return!!Ba[this.name]},
isInline:function(){return!!ab[this.name]},isBlock:function(){return!!mb[this.name]},contains:function(a){return oa(this.node,$(a))},parent:function(){var a=this.node.parentNode;return a?new J(a):null},children:function(){for(var a=[],b=this.node.firstChild;b;){if(b.nodeType!=3||L(b.nodeValue)!=="")a.push(new J(b));b=b.nextSibling}return a},first:function(){var a=this.children();return a.length>0?a[0]:null},last:function(){var a=this.children();return a.length>0?a[a.length-1]:null},index:function(){for(var a=
-1,b=this.node;b;){a++;b=b.previousSibling}return a},prev:function(){var a=this.node.previousSibling;return a?new J(a):null},next:function(){var a=this.node.nextSibling;return a?new J(a):null},each:function(a,b){function c(d){for(d=b?d.firstChild:d.lastChild;d;){var e=b?d.nextSibling:d.previousSibling;if(a(new J(d))===false)return false;if(c(d)===false)return false;d=e}}b=b===r?true:b;c(this.node)},toString:function(){return this.type==3?this.node.nodeValue:this.outer()}};q("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),
function(a,b){J.prototype[b]=function(c){return c?this.bind(b,c):this.fire(b)}});y.node=j;var W=0,V=1,aa=2,R=3;Q.prototype={setStart:function(a,b){var c=this.doc;this.startContainer=a;this.startOffset=b;if(this.endContainer===c){this.endContainer=a;this.endOffset=b}Fa.call(this);Ga.call(this);return this},setEnd:function(a,b){var c=this.doc;this.endContainer=a;this.endOffset=b;if(this.startContainer===c){this.startContainer=a;this.startOffset=b}Fa.call(this);Ga.call(this);return this},setStartBefore:function(a){return this.setStart(a.parentNode||
this.doc,j(a).index())},setStartAfter:function(a){return this.setStart(a.parentNode||this.doc,j(a).index()+1)},setEndBefore:function(a){return this.setEnd(a.parentNode||this.doc,j(a).index())},setEndAfter:function(a){return this.setEnd(a.parentNode||this.doc,j(a).index()+1)},selectNode:function(a){return this.setStartBefore(a).setEndAfter(a)},selectNodeContents:function(a){var b=j(a);if(b.type==3||b.isSingle())return this.selectNode(a);b=b.children();if(b.length>0)return this.setStartBefore(b[0].get()).setEndAfter(b[b.length-
1].get());return this.setStart(a,0).setEnd(a,0)},collapse:function(a){if(a)return this.setEnd(this.startContainer,this.startOffset);return this.setStart(this.endContainer,this.endOffset)},compareBoundaryPoints:function(a,b){var c=this.get(),d=b.get();if(this.doc.createRange)return c.compareBoundaryPoints(a,d);else{var e={};e[W]="StartToStart";e[V]="EndToStart";e[aa]="EndToEnd";e[R]="StartToEnd";c=c.compareEndPoints(e[a],d);if(c!==0)return c;var f,g,h,i;if(a===W||a===R){f=this.startContainer;h=this.startOffset}if(a===
V||a===aa){f=this.endContainer;h=this.endOffset}if(a===W||a===V){g=b.startContainer;i=b.startOffset}if(a===aa||a===R){g=b.endContainer;i=b.endOffset}if(f===g){f=h-i;return f>0?1:f<0?-1:0}for(c=g;c&&c.parentNode!==f;)c=c.parentNode;if(c)return j(c).index()>=h?-1:1;for(c=f;c&&c.parentNode!==g;)c=c.parentNode;if(c)return j(c).index()>=i?1:-1}},cloneRange:function(){return(new Q(this.doc)).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var a=
this.get();return(this.doc.createRange?a.toString():a.text).replace(/\r\n|\n|\r/g,"")},cloneContents:function(){return pa.call(this,true,false)},deleteContents:function(){return pa.call(this,false,true)},extractContents:function(){return pa.call(this,true,true)},insertNode:function(a){var b=this.startContainer,c=this.startOffset,d=this.endContainer,e=this.endOffset,f,g,h,i=1;if(a.nodeName.toLowerCase()==="#document-fragment"){f=a.firstChild;g=a.lastChild;i=a.childNodes.length}if(b.nodeType==1)if(h=
b.childNodes[c]){b.insertBefore(a,h);if(b===d)e+=i}else b.appendChild(a);else if(b.nodeType==3)if(c===0){b.parentNode.insertBefore(a,b);if(b.parentNode===d)e+=i}else if(c>=b.nodeValue.length)b.parentNode.appendChild(a);else{h=b.splitText(c);b.parentNode.insertBefore(a,h);if(b===d){d=h;e-=c}}f?this.setStartBefore(f).setEndAfter(g):this.selectNode(a);return this.setEnd(d,e)},surroundContents:function(a){a.appendChild(this.extractContents());return this.insertNode(a).selectNode(a)},get:function(){var a=
this.doc,b=this.startContainer,c=this.startOffset,d=this.endContainer,e=this.endOffset;if(a.createRange){a=a.createRange();try{a.setStart(b,c);a.setEnd(d,e)}catch(f){}}else{a=a.body.createTextRange();a.setEndPoint("StartToStart",Ja(b,c));a.setEndPoint("EndToStart",Ja(d,e))}return a},html:function(){return j(this.cloneContents()).outer()}};y.range=ba;y.START_TO_START=W;y.START_TO_END=V;y.END_TO_END=aa;y.END_TO_START=R;var bb=I("9,32,48..57,59,61,65..90,106,109..111,188,190..192,219..222"),cb=I("8,13,33..40,46"),
va={};q(bb,function(a,b){va[a]=b});q(cb,function(a,b){va[a]=b});qa.prototype={select:function(){var a=this.sel,b=this.range.cloneRange(),c=b.startContainer,d=c.ownerDocument||c,e=d.parentWindow||d.defaultView;if(F&&c.nodeType==1&&b.collapsed){a=j("<span>&nbsp;</span>",d);b.insertNode(a.get());b=d.body.createTextRange();b.moveToElementText(a.get());b.collapse(false);b.select();a.remove();e.focus();return this}b=b.get();if(F)b.select();else{a.removeAllRanges();a.addRange(b)}e.focus();return this},wrap:function(a){function b(l,
k,v){var E=l.nodeValue.length,z=l;if(!(v<=k)){if(k>0)z=l.splitText(k);v<E&&z.splitText(v-k);var x;v=j(z);k=g==l;for(l=i==l;(x=v.parent())&&x.isInline()&&x.children().length==1;){k||(k=g==x.get());l||(l=i==x.get());v=x}x=v;v=f;v=v.clone(true);if(x.type==3){S(v).append(x.clone(false));x.before(v);x.remove()}else{E=x;for(var n;(n=x.first())&&n.children().length==1;)x=n;for(z=x.doc.createDocumentFragment();n=x.first();){n.next();z.appendChild(n.get())}v=Pa(E,v);z.firstChild&&S(v).append(z);E.before(v);
E.remove()}n=v.get();k&&e.setStartBefore(n);l&&e.setEndAfter(n)}}function c(l){var k=l.firstChild;if(l.nodeType==3){b(l,h,p);return false}for(var v;k;){l=ba(d);l.selectNode(k);if(l.compareBoundaryPoints(R,e)>=0)return false;v=k.nextSibling;if(l.compareBoundaryPoints(V,e)>0)if(k.nodeType==1){if(c(k)===false)return false}else if(k.nodeType==3)if(k==g&&k==i)b(k,h,p);else if(k==g)b(k,h,k.nodeValue.length);else k==i?b(k,0,p):b(k,0,k.nodeValue.length);k=v}}var d=this.doc,e=this.range,f,g=e.startContainer,
h=e.startOffset,i=e.endContainer,p=e.endOffset;f=typeof a=="string"?j(a,d):a;if(e.collapsed){if(this._preformat)f=Pa(this._preformat.wrapper,f);this._preformat={wrapper:f,range:e.cloneRange()};return this}if(!f.isInline()){for(var m=a=f.clone(true);m.first();)m=m.first();m.append(e.extractContents());e.insertNode(a.get()).selectNode(a.get());return this}c(e.commonAncestorContainer);return this},split:function(a,b){for(var c=this.range,d=c.doc,e=c.cloneRange().collapse(a),f=e.startContainer,g=e.startOffset,
h=f.nodeType==3?f.parentNode:f,i=false;h&&h.parentNode;){var p=j(h);if(!p.isInline())break;if(!(X(p,b,"*")||X(p,b)))break;i=true;h=h.parentNode}if(i){d=d.createElement("span");c.cloneRange().collapse(!a).insertNode(d);a?e.setStartBefore(h.firstChild).setEnd(f,g):e.setStart(f,g).setEndAfter(h.lastChild);f=e.extractContents();g=f.firstChild;i=f.lastChild;if(a){e.insertNode(f);c.setStartAfter(i).setEndBefore(d)}else{h.appendChild(f);c.setStartBefore(d).setEndBefore(g)}e=d.parentNode;e.removeChild(d);
!a&&e===c.endContainer&&c.setEnd(c.endContainer,c.endOffset-1)}return this},remove:function(a){var b=this.doc,c=this.range;if(c.collapsed){this._preremove={map:a,range:c.cloneRange()};return this}this.split(true,a);this.split(false,a);var d=[];j(c.commonAncestorContainer).each(function(p){var m=ba(b);m.selectNode(p.get());if(m.compareBoundaryPoints(R,c)>=0)return false;m.compareBoundaryPoints(W,c)>=0&&d.push(p)});var e=c.startContainer,f=c.startOffset,g=c.endContainer,h=c.endOffset;if(f>0){var i=
j(e.childNodes[f-1]);if(i&&S(i).isInline()){i.remove();c.setStart(e,f-1);e==g&&c.setEnd(g,h-1)}if((i=j(e.childNodes[f]))&&S(i).isInline()){i.remove();e==g&&c.setEnd(g,h-1)}}(e=j(g.childNodes[c.endOffset]))&&S(e).isInline()&&e.remove();q(d,function(){Oa(this,a,"*");Oa(this,a)});return this},_applyPreformat:function(){var a=this.range,b=this._preformat,c=this._preremove;if(b||c){b?a.setStart(b.range.startContainer,b.range.startOffset):a.setStart(c.range.startContainer,c.range.startOffset);b&&this.wrap(b.wrapper);
c&&this.remove(c.map);b=a.startContainer;c=a.startOffset;b=S(j(b.nodeType==3?b:b.childNodes[c])).get();a.setEnd(b,b.nodeValue.length);a.collapse(false);this.select();this._preremove=this._preformat=null}},exec:function(a,b){return this[a.toLowerCase()](b)},state:function(a){var b=this.doc,c=false;try{c=b.queryCommandState(a)}catch(d){}return c},val:function(a){var b=this.doc,c=this.range;a=a.toLowerCase();var d="";if(a==="fontfamily"||a==="fontname"){d=Ka(b,"fontname");d=d.replace(/['"]/g,"");return d.toLowerCase()}if(a===
"formatblock"){d=Ka(b,a);if(d==="")if(a=ca(c,{"h1,h2,h3,h4,h5,h6,p,div,pre,address":"*"}))d=a.name;if(d==="Normal")d="p";return d.toLowerCase()}if(a==="fontsize"){if(a=ca(c,{"*":".font-size"}))d=a.css("font-size");return d.toLowerCase()}if(a==="forecolor"){if(a=ca(c,{"*":".color"}))d=a.css("color");d=da(d);if(d==="")d="default";return d.toLowerCase()}if(a==="hilitecolor"){if(a=ca(c,{"*":".background-color"}))d=a.css("background-color");d=da(d);if(d==="")d="default";return d.toLowerCase()}return d},
toggle:function(a,b){ca(this.range,b)?this.remove(b):this.wrap(a);return this.select()},bold:function(){return this.toggle("<strong></strong>",{span:".font-weight=bold",strong:"*",b:"*"})},italic:function(){return this.toggle("<em></em>",{span:".font-style=italic",em:"*",i:"*"})},underline:function(){return this.toggle("<u></u>",{span:".text-decoration=underline",u:"*"})},strikethrough:function(){return this.toggle("<s></s>",{span:".text-decoration=line-through",s:"*"})},forecolor:function(a){return this.toggle('<span style="color:'+
a+';"></span>',{span:".color="+a,font:"color"})},hilitecolor:function(a){return this.toggle('<span style="background-color:'+a+';"></span>',{span:".background-color="+a})},fontsize:function(a){return this.toggle('<span style="font-size:'+a+';"></span>',{span:".font-size="+a,font:"size"})},fontname:function(a){return this.fontfamily(a)},fontfamily:function(a){return this.toggle('<span style="font-family:'+a+';"></span>',{span:".font-family="+a,font:"face"})},removeformat:function(){var a={"*":"class,style"};
q(ab,function(b){a[b]="*"});this.remove(a);return this.select()},oninput:function(a){j(this.doc).keyup(function(b){if(!b.ctrlKey&&!b.altKey&&bb[b.which]){a(b);b.stop()}});return this},oncursormove:function(a){var b=this.doc;j(b).keyup(function(c){if(!c.ctrlKey&&!c.altKey&&cb[c.which]){a(c);c.stop()}});j(b).mouseup(a);return this},onchange:function(a){function b(e){setTimeout(function(){a(e)},1)}var c=this.doc,d=c.body;j(c).keyup(function(e){if(!e.ctrlKey&&!e.altKey&&va[e.which]){a(e);e.stop()}});
j(c).mouseup(a);c!==document&&j(document).mousedown(a);j(d).bind("paste",b);j(d).bind("cut",b);return this}};y.cmd=Qa;y.widget=ha;Ra.prototype={html:function(a){this.val(a)},val:function(a){return this.designMode?ia.call(this,a):ja.call(this,a)},create:function(a){if(this.div)return this;var b=j("<div></div>").addClass("ke-edit"),c=j('<iframe class="ke-edit-iframe" frameborder="0"></iframe>'),d=j('<textarea class="ke-edit-textarea"></textarea>'),e=this.srcElement,f={display:"block",width:this.width,
height:this.height};b.css(f);c.css(f);d.css(f);this.designMode?d.hide():c.hide();j(a).append(b);b.append(c);b.append(d);e.hide();a=c.get();a=a.contentDocument||a.contentWindow.document;if(!F)a.designMode="on";a.open();a.write(ib(this.bodyClass,this.cssData));a.close();if(F)a.body.contentEditable="true";this.div=b;this.iframe=c;this.textarea=d;this.doc=a;this.designMode?ia.call(this,ra(e)):ja.call(this,ra(e));this.cmd=Qa(a);return this},remove:function(){var a=this.div,b=this.iframe,c=this.textarea,
d=this.doc,e=this.srcElement;if(!a)return this;j(d).unbind();j(d.body).unbind();j(document).unbind();ra(e,this.val());e.show();this.doc.write("");this.doc.clear();b.remove();c.remove();a.remove();CollectGarbage();this.div=this.iframe=this.textarea=this.doc=null;return this},design:function(a){var b=this.iframe,c=this.textarea;if(!b)return this;if(a===r?!this.designMode:a){if(!this.designMode){c.hide();ia.call(this,ja.call(this));b.show();this.designMode=true}}else if(this.designMode){b.hide();ja.call(this,
ia.call(this));c.show();this.designMode=false}this.focus();return this},focus:function(){var a=this.iframe;if(!a)return this;this.designMode?a.get().contentWindow.focus():this.textarea.get().focus();return this}};y.edit=Sa;y.toolbar=Ua;y.menu=sa;y.colorpicker=Va;var Wa={},Xa={},kb={designMode:true,fullscreenMode:false,filterMode:false,shadowMode:true,scriptPath:function(){for(var a=document.getElementsByTagName("script"),b,c=0,d=a.length;c<d;c++){b=a[c].src||"";if(b.match(/kindeditor[\w\-\.]*\.js/))return b.substring(0,
b.lastIndexOf("/")+1)}return""}(),urlType:"",newlineType:"p",resizeType:2,dialogAlignType:"page",bodyClass:"ke-content",cssData:"",minWidth:200,minHeight:100,minChangeSize:5,items:["source","|","fullscreen","undo","redo","print","cut","copy","paste","plainpaste","wordpaste","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","|","selectall","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor",
"bold","italic","underline","strikethrough","removeformat","|","image","flash","media","advtable","hr","emoticons","link","unlink","|","about"],colors:[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],htmlTags:{font:["color","size","face",".background-color"],span:[".color",".background-color",".font-size",
".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align"],div:["align",".border",".margin",".padding",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".background",".font-style",".text-decoration",".vertical-align",".margin-left"],table:["border","cellspacing","cellpadding","width","height","align","bordercolor",".padding",".margin",".border","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",
".font-weight",".font-style",".text-decoration",".background",".width",".height"],"td,th":["align","valign","width","height","colspan","rowspan","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".vertical-align",".background"],a:["href","target","name"],embed:["src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess","/"],img:["src","width","height","border","alt","title",
".width",".height","/"],hr:["/"],br:["/"],"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":["align",".text-align",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".text-indent",".margin-left"],"tbody,tr,strong,b,sub,sup,em,i,u,strike":[]}};Ya.prototype={create:function(){var a=this,b=j("<div></div>").css("width",a.width);a.fullscreenMode?j(document.body).append(b):a.srcElement.before(b);var c=Ua({parent:b,width:"100%",
noDisableItems:"source,fullscreen".split(",")});q(a.items,function(e,f){c.addItem({name:f,click:function(){if(a.menu){var g=a.menu.name;a.menu.remove();a.menu=null;if(g===f)return}T(f).call(this,a)}})});var d=Sa({srcElement:a.srcElement,width:"100%",height:a.height,designMode:a.designMode,bodyClass:a.bodyClass,cssData:a.cssData}).create(b);q([d.doc,document],function(){j(this).click(function(){if(a.menu){a.menu.remove();a.menu=null}})});a.container=b;a.toolbar=c;a.edit=d;return a},remove:function(){this.menu&&
this.menu.remove();this.toolbar.remove();this.edit.remove();this.container.remove();this.container=this.toolbar=this.edit=this.menu=null;return this}};var ka={};if(F&&Z<7)try{document.execCommand("BackgroundImageCache",false,true)}catch(ob){}T("source",function(a){a.toolbar.disable();a.edit.design()});T("fontname",function(a){var b=this.pos();a.menu=sa({name:"fontname",width:150,x:b.x,y:b.y+this.height(),centerLineMode:false});q(ta("plugins",void 0).fontname.fontName,function(c,d){a.menu.addItem({title:'<span style="font-family: '+
c+';">'+d+"</span>",click:function(e){a.edit.cmd.fontname(d);a.menu.remove();a.menu=null;e.stop()}})})});T("fontsize",function(a){var b=this.pos();a.menu=sa({name:"fontsize",width:150,x:b.x,y:b.y+this.height(),centerLineMode:false});q(["9px","10px","12px","14px","16px","18px","24px","32px"],function(c,d){a.menu.addItem({title:'<span style="font-size:'+d+';">'+d+"</span>",height:db(d)+12,click:function(e){a.edit.cmd.fontsize(d);a.menu.remove();a.menu=null;e.stop()}})})});q("forecolor,hilitecolor".split(","),
function(a,b){T(b,function(c){var d=this.pos();c.menu=Va({name:b,x:d.x,y:d.y+this.height(),selectedColor:"default",click:function(e){c.edit.cmd[b](e);c.menu.remove();c.menu=null}})})});q("bold,italic,underline,strikethrough,removeformat".split(","),function(a,b){T(b,function(c){c.edit.cmd[b]()})});y.create=Za;y.remove=function(a){if(ka[a]){ka[a].remove();delete ka[a]}};y.plugin=T;ua=y;y=function(a,b){xa(function(){Za(a,b)})};q(ua,function(a,b){y[a]=b});if(N.K===r)N.K=y;N.KindEditor=y;Xa.zh_CN={source:"HTML\u4ee3\u7801",
undo:"\u540e\u9000(Ctrl+Z)",redo:"\u524d\u8fdb(Ctrl+Y)",cut:"\u526a\u5207(Ctrl+X)",copy:"\u590d\u5236(Ctrl+C)",paste:"\u7c98\u8d34(Ctrl+V)",plainpaste:"\u7c98\u8d34\u4e3a\u65e0\u683c\u5f0f\u6587\u672c",wordpaste:"\u4eceWord\u7c98\u8d34",selectall:"\u5168\u9009",justifyleft:"\u5de6\u5bf9\u9f50",justifycenter:"\u5c45\u4e2d",justifyright:"\u53f3\u5bf9\u9f50",justifyfull:"\u4e24\u7aef\u5bf9\u9f50",insertorderedlist:"\u7f16\u53f7",insertunorderedlist:"\u9879\u76ee\u7b26\u53f7",indent:"\u589e\u52a0\u7f29\u8fdb",
outdent:"\u51cf\u5c11\u7f29\u8fdb",subscript:"\u4e0b\u6807",superscript:"\u4e0a\u6807",title:"\u6807\u9898",fontname:"\u5b57\u4f53",fontsize:"\u6587\u5b57\u5927\u5c0f",textcolor:"\u6587\u5b57\u989c\u8272",bgcolor:"\u6587\u5b57\u80cc\u666f",bold:"\u7c97\u4f53(Ctrl+B)",italic:"\u659c\u4f53(Ctrl+I)",underline:"\u4e0b\u5212\u7ebf(Ctrl+U)",strikethrough:"\u5220\u9664\u7ebf",removeformat:"\u5220\u9664\u683c\u5f0f",image:"\u56fe\u7247",flash:"\u63d2\u5165Flash",media:"\u63d2\u5165\u591a\u5a92\u4f53",table:"\u63d2\u5165\u8868\u683c",
hr:"\u63d2\u5165\u6a2a\u7ebf",emoticons:"\u63d2\u5165\u8868\u60c5",link:"\u8d85\u7ea7\u94fe\u63a5",unlink:"\u53d6\u6d88\u8d85\u7ea7\u94fe\u63a5",fullscreen:"\u5168\u5c4f\u663e\u793a",about:"\u5173\u4e8e",print:"\u6253\u5370",fileManager:"\u6d4f\u89c8\u670d\u52a1\u5668",advtable:"\u8868\u683c",yes:"\u786e\u5b9a",no:"\u53d6\u6d88",close:"\u5173\u95ed",editImage:"\u56fe\u7247\u5c5e\u6027",deleteImage:"\u5220\u9664\u56fe\u7247",editLink:"\u8d85\u7ea7\u94fe\u63a5\u5c5e\u6027",deleteLink:"\u53d6\u6d88\u8d85\u7ea7\u94fe\u63a5",
tableprop:"\u8868\u683c\u5c5e\u6027",tableinsert:"\u63d2\u5165\u8868\u683c",tabledelete:"\u5220\u9664\u8868\u683c",tablecolinsertleft:"\u5de6\u4fa7\u63d2\u5165\u5217",tablecolinsertright:"\u53f3\u4fa7\u63d2\u5165\u5217",tablerowinsertabove:"\u4e0a\u65b9\u63d2\u5165\u884c",tablerowinsertbelow:"\u4e0b\u65b9\u63d2\u5165\u884c",tablecoldelete:"\u5220\u9664\u5217",tablerowdelete:"\u5220\u9664\u884c",noColor:"\u65e0\u989c\u8272",invalidImg:"\u8bf7\u8f93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002\n\u53ea\u5141\u8bb8jpg,gif,bmp,png\u683c\u5f0f\u3002",
invalidMedia:"\u8bf7\u8f93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002\n\u53ea\u5141\u8bb8swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb\u683c\u5f0f\u3002",invalidWidth:"\u5bbd\u5ea6\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidHeight:"\u9ad8\u5ea6\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidBorder:"\u8fb9\u6846\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidUrl:"\u8bf7\u8f93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002",invalidRows:"\u884c\u6570\u4e3a\u5fc5\u9009\u9879\uff0c\u53ea\u5141\u8bb8\u8f93\u5165\u5927\u4e8e0\u7684\u6570\u5b57\u3002",
invalidCols:"\u5217\u6570\u4e3a\u5fc5\u9009\u9879\uff0c\u53ea\u5141\u8bb8\u8f93\u5165\u5927\u4e8e0\u7684\u6570\u5b57\u3002",invalidPadding:"\u8fb9\u8ddd\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidSpacing:"\u95f4\u8ddd\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidBorder:"\u8fb9\u6846\u5fc5\u987b\u4e3a\u6570\u5b57\u3002",invalidJson:"\u670d\u52a1\u5668\u53d1\u751f\u6545\u969c\u3002",cutError:"\u60a8\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e\u4e0d\u5141\u8bb8\u4f7f\u7528\u526a\u5207\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+X)\u6765\u5b8c\u6210\u3002",
copyError:"\u60a8\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e\u4e0d\u5141\u8bb8\u4f7f\u7528\u590d\u5236\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+C)\u6765\u5b8c\u6210\u3002",pasteError:"\u60a8\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e\u4e0d\u5141\u8bb8\u4f7f\u7528\u7c98\u8d34\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+V)\u6765\u5b8c\u6210\u3002",plugins:{about:{version:"4.0 (2010-07-16)",title:"HTML\u53ef\u89c6\u5316\u7f16\u8f91\u5668"},plainpaste:{comment:"\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+V)\u628a\u5185\u5bb9\u7c98\u8d34\u5230\u4e0b\u9762\u7684\u65b9\u6846\u91cc\u3002"},
wordpaste:{comment:"\u8bf7\u4f7f\u7528\u5feb\u6377\u952e(Ctrl+V)\u628a\u5185\u5bb9\u7c98\u8d34\u5230\u4e0b\u9762\u7684\u65b9\u6846\u91cc\u3002"},link:{url:"URL\u5730\u5740",linkType:"\u6253\u5f00\u7c7b\u578b",newWindow:"\u65b0\u7a97\u53e3",selfWindow:"\u5f53\u524d\u7a97\u53e3"},flash:{url:"Flash\u5730\u5740",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6"},media:{url:"\u5a92\u4f53\u6587\u4ef6\u5730\u5740",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6",autostart:"\u81ea\u52a8\u64ad\u653e"},image:{remoteImage:"\u8fdc\u7a0b\u56fe\u7247",
localImage:"\u672c\u5730\u4e0a\u4f20",remoteUrl:"\u56fe\u7247\u5730\u5740",localUrl:"\u56fe\u7247\u5730\u5740",size:"\u56fe\u7247\u5927\u5c0f",width:"\u5bbd",height:"\u9ad8",resetSize:"\u91cd\u7f6e\u5927\u5c0f",align:"\u5bf9\u9f50\u65b9\u5f0f",defaultAlign:"\u9ed8\u8ba4\u65b9\u5f0f",leftAlign:"\u5de6\u5bf9\u9f50",rightAlign:"\u53f3\u5bf9\u9f50",imgTitle:"\u56fe\u7247\u8bf4\u660e",viewServer:"\u6d4f\u89c8..."},filemanager:{emptyFolder:"\u7a7a\u6587\u4ef6\u5939",moveup:"\u79fb\u5230\u4e0a\u4e00\u7ea7\u6587\u4ef6\u5939",
viewType:"\u663e\u793a\u65b9\u5f0f\uff1a",viewImage:"\u7f29\u7565\u56fe",listImage:"\u8be6\u7ec6\u4fe1\u606f",orderType:"\u6392\u5e8f\u65b9\u5f0f\uff1a",fileName:"\u540d\u79f0",fileSize:"\u5927\u5c0f",fileType:"\u7c7b\u578b"},advtable:{cells:"\u5355\u5143\u683c\u6570",rows:"\u884c\u6570",cols:"\u5217\u6570",size:"\u8868\u683c\u5927\u5c0f",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6",percent:"%",px:"px",space:"\u8fb9\u8ddd\u95f4\u8ddd",padding:"\u8fb9\u8ddd",spacing:"\u95f4\u8ddd",align:"\u5bf9\u9f50\u65b9\u5f0f",
alignDefault:"\u9ed8\u8ba4",alignLeft:"\u5de6\u5bf9\u9f50",alignCenter:"\u5c45\u4e2d",alignRight:"\u53f3\u5bf9\u9f50",border:"\u8868\u683c\u8fb9\u6846",borderWidth:"\u8fb9\u6846",borderColor:"\u989c\u8272",backgroundColor:"\u80cc\u666f\u989c\u8272"},formatblock:{formatblock:{h1:"\u6807\u9898 1",h2:"\u6807\u9898 2",h3:"\u6807\u9898 3",h4:"\u6807\u9898 4",p:"\u6b63 \u6587"}},fontname:{fontName:{SimSun:"\u5b8b\u4f53",NSimSun:"\u65b0\u5b8b\u4f53",FangSong_GB2312:"\u4eff\u5b8b_GB2312",KaiTi_GB2312:"\u6977\u4f53_GB2312",
SimHei:"\u9ed1\u4f53","Microsoft YaHei":"\u5fae\u8f6f\u96c5\u9ed1",Arial:"Arial","Arial Black":"Arial Black","Times New Roman":"Times New Roman","Courier New":"Courier New",Tahoma:"Tahoma",Verdana:"Verdana"}}}}})(window);
