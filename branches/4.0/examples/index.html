<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>KindEditor Examples</title>
		<style>
			#tabs li {
				padding: 0 5px;
			}
		</style>
		<link rel="stylesheet" href="../themes/default/default.css" />
		<script charset="utf-8" src="../kindeditor.js"></script>
		<script charset="utf-8" src="../lang/zh_CN.js"></script>
		<script>
			function getParam(url, name) {
				return url.match(new RegExp('[?&]' + name + '=([^?&]+)', 'i')) ? unescape(RegExp.$1) : '';
			}
			KindEditor.ready(function(K) {
				var optionMap = {
					'content0' : {
						cssPath : '../plugins/code/prettify.css'
					},
					'content1' : {
						cssPath : '../plugins/code/prettify.css',
						resizeType : 1,
						allowPreviewEmoticons : false,
						allowImageUpload : false,
						items : [
							'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic', 'underline',
							'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist',
							'insertunorderedlist', '|', 'emoticons', 'image', 'link']
					},
					'content2' : {
						cssPath : '../plugins/code/prettify.css'
					},
					'content3' : {
						cssPath : '../plugins/code/prettify.css',
						langType : 'en'
					},
					'content4' : {
						cssPath : '../plugins/code/prettify.css',
						readonlyMode : true
					},
					'content5' : {
						cssPath : '../plugins/code/prettify.css',
						newlineTag : 'br'
					},
					'content6' : {
						cssPath : '../plugins/code/prettify.css',
						afterChange : function() {
							K('#tab6 .word_count1').html(this.count());
							K('#tab6 .word_count2').html(this.count('text'));
						}
					},
				};
				var editor = null;
				var tabs = K.tabs({
					parent : K('#tabs'),
					afterSelect : function(i) {
						if (editor) {
							editor.remove();
							editor = null;
						}
						if (i == 2) {
							return;
						}
						editor = K.create('#tab' + i + ' textarea[name=content]', optionMap['content' + i]);
					}
				});
				tabs.add({
					title : '默认模式',
					panel : K('#tab0')
				});
				tabs.add({
					title : '简单模式',
					panel : K('#tab1')
				});
				tabs.add({
					title : '异步加载',
					panel : K('#tab2')
				});
				tabs.add({
					title : '多语言',
					panel : K('#tab3')
				});
				tabs.add({
					title : '只读模式',
					panel : K('#tab4')
				});
				tabs.add({
					title : '回车换行设置',
					panel : K('#tab5')
				});
				tabs.add({
					title : '统计字数',
					panel : K('#tab6')
				});
				tabs.add({
					title : 'HTML过滤',
					panel : K('#tab7')
				});
				tabs.add({
					title : 'URL设置',
					panel : K('#tab8')
				});
				tabs.add({
					title : '全屏模式',
					panel : K('#tab9')
				});
				tabs.add({
					title : '自定义插件',
					panel : K('#tab10')
				});
				tabs.add({
					title : '回调函数',
					panel : K('#tab11')
				});
				tabs.add({
					title : '调用API',
					panel : K('#tab12')
				});
				var index = parseInt(getParam(location.href, 'tab') || 0, 10);
				tabs.select(index);
				K('#tab' + index).show();
				
				K('#tab2 input[name=load]').click(function() {
					K.loadScript('../kindeditor.js', function() {
						editor = K.create('#tab2 textarea', optionMap.content2);
					});
				});
				K('#tab2 input[name=remove]').click(function() {
					if (editor) {
						editor.remove();
						editor = null;
					}
				});

				K('#tab3 select[name=lang]').change(function() {
					if (editor) {
						editor.remove();
						editor = null;
					}
					optionMap.content3.langType = this.value;
					editor = K.create('#tab3 textarea', optionMap.content3);
				});

				K('#tab4 input[name=readonly]').click(function() {
					editor.readonly();
				});
				K('#tab4 input[name=cancel]').click(function() {
					editor.readonly(false);
				});
				
			});
		</script>
	</head>
	<body>
		<div id="tabs"></div>

		<!-- 默认模式 -->
		<div id="tab0" style="display:none;">
			<form>
			<textarea name="content" style="width:800px;height:400px;visibility:hidden;">
<p>
	引入文件:
</p>
<pre class="prettyprint">
&amp;lt;link rel="stylesheet" href="../themes/default/default.css" /&amp;gt;
&amp;lt;script charset="utf-8" src="../kindeditor.js"&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script charset="utf-8" src="../lang/zh_CN.js"&amp;gt;&amp;lt;/script&amp;gt;
</pre>
<p>
	JavaScript代码:
</p>
<pre class="prettyprint">
KindEditor.ready(function(K) {
	K.create('textarea[name="content"]');
});
</pre>
<p>
	&nbsp;
</p>
			</textarea>
			<p>
				<input type="reset" name="reset" value="Reset" />
			</p>
			</form>
		</div>

		<!-- 简单模式 -->
		<div id="tab1" style="display:none;">
			<textarea name="content" style="width:700px;height:300px;visibility:hidden;">
<p>
	引入文件:
</p>
<pre class="prettyprint">
&amp;lt;link rel="stylesheet" href="../themes/default/default.css" /&amp;gt;
&amp;lt;script charset="utf-8" src="../kindeditor.js"&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script charset="utf-8" src="../lang/zh_CN.js"&amp;gt;&amp;lt;/script&amp;gt;
</pre>
<p>
	JavaScript代码:
</p>
<pre class="prettyprint">
KindEditor.ready(function(K) {
	K.create('textarea[name="content"]' : {
		resizeType : 1,
		allowPreviewEmoticons : false,
		allowImageUpload : false,
		items : [
			'fontname', 'fontsize', '|', 'textcolor', 'bgcolor', 'bold', 'italic', 'underline',
			'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist',
			'insertunorderedlist', '|', 'emoticons', 'image', 'link']
	});
});
</pre>
<p>
	&nbsp;
</p>
			</textarea>
		</div>

		<!-- 异步加载 -->
		<div id="tab2" style="display:none;">
			<textarea name="content" style="width:800px;height:400px;">
引入文件:
<pre class="prettyprint">
&amp;lt;link rel="stylesheet" href="../themes/default/default.css" /&amp;gt;
</pre>
JavaScript代码:
<pre class="prettyprint">
KindEditor.loadScript('../kindeditor.js', function() {
	KindEditor.create('#tab2 textarea');
});
</pre>
<p>
	&nbsp;
</p>
			</textarea>
			<p>
				<input type="button" name="load" value="加载JS并创建编辑器" />
				<input type="button" name="remove" value="删除编辑器" />
			</p>
		</div>

		<!-- 多语言 -->
		<div id="tab3" style="display:none;">
			<p>
			<select name="lang">
				<option value="en">English</option>
				<option value="zh_CN">简体中文</option>
			</select>
			</p>
			<textarea name="content" style="width:800px;height:400px;">
JavaScript代码:
<pre class="prettyprint">
KindEditor.ready(function(K) {
	K.create('textarea[name="content"]' : {
		langType : 'en'
	});
});
</pre>
<p>
	&nbsp;
</p>
			</textarea>
		</div>

		<!-- 只读模式 -->
		<div id="tab4" style="display:none;">
			<textarea name="content" style="width:800px;height:400px;">
JavaScript代码:
<pre class="prettyprint">
KindEditor.ready(function(K) {
	var editor = K.create('textarea[name="content"]' : {
		readonlyMode : true
	});
	// 设置成只读状态
	K('#tab4 input[name=readonly]').click(function() {
		editor.readonly();
	});
	// 取消只读状态
	K('#tab4 input[name=cancel]').click(function() {
		editor.readonly(false);
	});
});
</pre>
<p>
	&nbsp;
</p>
			</textarea>
			<p>
				<input type="button" name="readonly" value="设置成只读状态" />
				<input type="button" name="cancel" value="取消只读状态" />
			</p>
		</div>

		<!-- 回车换行设置 -->
		<div id="tab5" style="display:none;">
			<textarea name="content" style="width:800px;height:400px;">
JavaScript代码:
<pre class="prettyprint">
KindEditor.ready(function(K) {
	K.create('textarea[name="content"]' : {
		newlineTag : 'br'
	});
});
</pre>
<p>
	&nbsp;
</p>
			</textarea>
		</div>
		
		<!-- 统计字数 -->
		<div id="tab6" style="display:none;">
			<textarea name="content" style="width:800px;height:400px;">
JavaScript代码:
<pre class="prettyprint">
KindEditor.ready(function(K) {
	K.create('textarea[name="content"]' : {
		afterChange : function() {
			K('#tab6 .word_count1').html(this.count());
			K('#tab6 .word_count2').html(this.count('text'));
		}
	});
});
</pre>
<p>
	&nbsp;
</p>
			</textarea>
			<br />
			您当前输入了 <span class="word_count1">0</span> 个文字。（字数统计包含HTML代码。）<br />
			您当前输入了 <span class="word_count2">0</span> 个文字。（字数统计包含纯文本、IMG、EMBED，不包含换行符，IMG和EMBED算一个文字。）
		</div>
		
	</body>
</html>
